# Google ç¬¬ä¸‰æ–¹ç™»å…¥ - å®Œæ•´è¨­å®šæŒ‡å—ï¼ˆ2025 æœ€æ–°ç‰ˆï¼‰

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å°‡å”åŠ©æ‚¨å®Œæˆ Google ç¬¬ä¸‰æ–¹ç™»å…¥çš„å®Œæ•´è¨­å®šï¼Œé©ç”¨æ–¼ï¼š
- âœ… Web ç‰ˆæ‡‰ç”¨
- âœ… iOS Appï¼ˆé€é Capacitorï¼‰
- âœ… Android Appï¼ˆé€é Capacitorï¼‰

**å°ˆæ¡ˆè³‡è¨Š**ï¼š
- Supabase å°ˆæ¡ˆ IDï¼š`epyykzxxglkjombvozhr`
- Supabase å°ˆæ¡ˆ URLï¼š`https://epyykzxxglkjombvozhr.supabase.co`
- å›èª¿ URLï¼š`https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback`
- App Deep Linkï¼š`votechaos://auth/callback`

---

## ğŸ”§ ç¬¬ä¸€éƒ¨åˆ†ï¼šGoogle Cloud Console è¨­å®š

### æ­¥é©Ÿ 1ï¼šç™»å…¥ Google Cloud Console

1. å‰å¾€ [Google Cloud Console](https://console.cloud.google.com/)
2. ä½¿ç”¨æ‚¨çš„ Google å¸³è™Ÿç™»å…¥
3. å¦‚æœé‚„æ²’æœ‰å°ˆæ¡ˆï¼Œé»æ“Šé ‚éƒ¨å°èˆªæ¬„çš„ã€Œé¸å–å°ˆæ¡ˆã€>ã€Œæ–°å¢å°ˆæ¡ˆã€

### æ­¥é©Ÿ 2ï¼šå»ºç«‹æˆ–é¸æ“‡å°ˆæ¡ˆ

1. å¦‚æœå»ºç«‹æ–°å°ˆæ¡ˆï¼š
   - é»æ“Šã€Œæ–°å¢å°ˆæ¡ˆã€
   - è¼¸å…¥å°ˆæ¡ˆåç¨±ï¼ˆä¾‹å¦‚ï¼š`ChaosRegistry`ï¼‰
   - é»æ“Šã€Œå»ºç«‹ã€
   - ç­‰å¾…å°ˆæ¡ˆå»ºç«‹å®Œæˆï¼ˆç´„ 10-30 ç§’ï¼‰

2. å¦‚æœä½¿ç”¨ç¾æœ‰å°ˆæ¡ˆï¼š
   - é»æ“Šé ‚éƒ¨å°èˆªæ¬„çš„ã€Œé¸å–å°ˆæ¡ˆã€
   - é¸æ“‡æ‚¨è¦ä½¿ç”¨çš„å°ˆæ¡ˆ

### æ­¥é©Ÿ 3ï¼šå•Ÿç”¨ Google+ APIï¼ˆå·²æ£„ç”¨ï¼Œå¯è·³éï¼‰

**âš ï¸ æ³¨æ„**ï¼šGoogle+ API å·²æ–¼ 2019 å¹´æ£„ç”¨ï¼Œä½†æŸäº›èˆŠæ–‡ä»¶ä»æœƒæåˆ°ã€‚**æ‚¨å¯ä»¥è·³éæ­¤æ­¥é©Ÿ**ï¼Œå› ç‚º Google OAuth 2.0 ä¸éœ€è¦å•Ÿç”¨ Google+ APIã€‚

å¦‚æœæ‚¨æƒ³ç¢ºèªï¼Œå¯ä»¥ï¼š
1. å°èˆªåˆ°ã€ŒAPI å’Œæœå‹™ã€>ã€Œç¨‹å¼åº«ã€
2. æœå°‹ã€ŒGoogle+ APIã€
3. å¦‚æœé¡¯ç¤ºã€Œå·²æ£„ç”¨ã€ï¼Œå‰‡ä¸éœ€è¦å•Ÿç”¨

### æ­¥é©Ÿ 4ï¼šè¨­å®š OAuth åŒæ„ç•«é¢

1. å°èˆªåˆ°ã€ŒAPI å’Œæœå‹™ã€>ã€ŒOAuth åŒæ„ç•«é¢ã€
2. é¸æ“‡ä½¿ç”¨è€…é¡å‹ï¼š
   - **å¤–éƒ¨**ï¼šé©ç”¨æ–¼ä¸€èˆ¬æ‡‰ç”¨ç¨‹å¼ï¼ˆæ¨è–¦ï¼‰
   - **å…§éƒ¨**ï¼šåƒ…é©ç”¨æ–¼ Google Workspace çµ„ç¹”
3. é»æ“Šã€Œå»ºç«‹ã€ï¼ˆ**æ³¨æ„**ï¼šé€™è£¡çš„ã€Œå»ºç«‹ã€æ˜¯æŒ‡å»ºç«‹ OAuth åŒæ„ç•«é¢ï¼Œä¸æ˜¯å»ºç«‹ OAuth ç”¨æˆ¶ç«¯ IDã€‚å»ºç«‹ OAuth ç”¨æˆ¶ç«¯ ID åœ¨æ­¥é©Ÿ 5ï¼‰
4. å¡«å¯«æ‡‰ç”¨ç¨‹å¼è³‡è¨Šï¼š
   - **æ‡‰ç”¨ç¨‹å¼åç¨±**ï¼š`ChaosRegistry`ï¼ˆæˆ–æ‚¨çš„æ‡‰ç”¨åç¨±ï¼‰
   - **ä½¿ç”¨è€…æ”¯æ´é›»å­éƒµä»¶**ï¼šé¸æ“‡æ‚¨çš„é›»å­éƒµä»¶
   - **æ‡‰ç”¨ç¨‹å¼æ¨™èªŒ**ï¼šä¸Šå‚³æ‡‰ç”¨ç¨‹å¼åœ–ç¤ºï¼ˆå¯é¸ï¼Œå»ºè­° 120x120pxï¼‰
   - **æ‡‰ç”¨ç¨‹å¼é¦–é é€£çµ**ï¼š`https://chaos-registry.vercel.app`ï¼ˆæˆ–æ‚¨çš„ç¶²ç«™ URLï¼‰
   - **æ‡‰ç”¨ç¨‹å¼éš±ç§æ¬Šæ”¿ç­–é€£çµ**ï¼š`https://chaos-registry.vercel.app/privacy`ï¼ˆæˆ–æ‚¨çš„éš±ç§æ¬Šæ”¿ç­– URLï¼‰
   - **æ‡‰ç”¨ç¨‹å¼æœå‹™æ¢æ¬¾é€£çµ**ï¼š`https://chaos-registry.vercel.app/terms`ï¼ˆæˆ–æ‚¨çš„æœå‹™æ¢æ¬¾ URLï¼‰
   - **å·²æˆæ¬Šçš„ç¶²åŸŸ**ï¼šæ·»åŠ æ‚¨çš„ç¶²åŸŸï¼ˆä¾‹å¦‚ï¼š`chaos-registry.vercel.app`ï¼‰
5. é»æ“Šã€Œå„²å­˜ä¸¦ç¹¼çºŒã€
6. åœ¨ã€Œç¯„åœã€é é¢ï¼š
   - é»æ“Šã€Œæ–°å¢æˆ–ç§»é™¤ç¯„åœã€
   - é è¨­æœƒåŒ…å«åŸºæœ¬ç¯„åœï¼ˆ`email`ã€`profile`ã€`openid`ï¼‰ï¼Œé€™äº›å·²è¶³å¤ 
   - é»æ“Šã€Œæ›´æ–°ã€>ã€Œå„²å­˜ä¸¦ç¹¼çºŒã€
7. åœ¨ã€Œæ¸¬è©¦ä½¿ç”¨è€…ã€é é¢ï¼ˆå¦‚æœé¸æ“‡ã€Œå¤–éƒ¨ã€ï¼‰ï¼š
   - å¦‚æœæ‡‰ç”¨ç¨‹å¼é‚„åœ¨æ¸¬è©¦éšæ®µï¼Œå¯ä»¥æ·»åŠ æ¸¬è©¦ä½¿ç”¨è€…
   - é»æ“Šã€Œæ–°å¢ä½¿ç”¨è€…ã€ï¼Œè¼¸å…¥æ¸¬è©¦ä½¿ç”¨è€…çš„ Google å¸³è™Ÿ
   - é»æ“Šã€Œå„²å­˜ä¸¦ç¹¼çºŒã€
8. åœ¨ã€Œæ‘˜è¦ã€é é¢ï¼š
   - æª¢æŸ¥æ‰€æœ‰è¨­å®š
   - é»æ“Šã€Œè¿”å›è³‡è¨Šä¸»é ã€

### æ­¥é©Ÿ 5ï¼šå»ºç«‹ OAuth 2.0 æ†‘è­‰ï¼ˆå»ºç«‹ OAuth ç”¨æˆ¶ç«¯ IDï¼‰

**âš ï¸ é‡è¦**ï¼šé€™å€‹æ­¥é©Ÿæ‰æ˜¯å»ºç«‹ OAuth ç”¨æˆ¶ç«¯ ID çš„åœ°æ–¹ã€‚

1. å°èˆªåˆ°ã€ŒAPI å’Œæœå‹™ã€>ã€Œæ†‘è­‰ã€
2. é»æ“Šé ‚éƒ¨çš„ã€Œå»ºç«‹æ†‘è­‰ã€æŒ‰éˆ•
3. é¸æ“‡ã€ŒOAuth ç”¨æˆ¶ç«¯ IDã€
4. å¦‚æœé€™æ˜¯ç¬¬ä¸€æ¬¡å»ºç«‹ï¼Œç³»çµ±æœƒæç¤ºæ‚¨è¨­å®š OAuth åŒæ„ç•«é¢ï¼ˆå·²å®Œæˆæ­¥é©Ÿ 4ï¼Œç›´æ¥é»æ“Šã€Œå»ºç«‹ã€æˆ–ã€Œç¹¼çºŒã€ï¼‰
5. åœ¨ã€Œæ‡‰ç”¨ç¨‹å¼é¡å‹ã€ä¸­é¸æ“‡ã€Œç¶²é æ‡‰ç”¨ç¨‹å¼ã€
6. å¡«å¯«æ‡‰ç”¨ç¨‹å¼è³‡è¨Šï¼š
   - **åç¨±**ï¼š`ChaosRegistry Web Client`ï¼ˆæˆ–æ‚¨å–œæ­¡çš„åç¨±ï¼‰
   - **å·²æˆæ¬Šçš„ JavaScript ä¾†æº**ï¼š
     - é»æ“Šã€Œæ–°å¢ URIã€
     - æ·»åŠ ï¼š`https://epyykzxxglkjombvozhr.supabase.co`
     - æ·»åŠ ï¼š`https://chaos-registry.vercel.app`ï¼ˆæˆ–æ‚¨çš„ç¶²ç«™ URLï¼‰
     - æ·»åŠ ï¼š`http://localhost:8080`ï¼ˆæœ¬åœ°é–‹ç™¼ç”¨ï¼Œå¯é¸ï¼‰
   - **å·²æˆæ¬Šçš„é‡æ–°å°å‘ URI**ï¼š
     - é»æ“Šã€Œæ–°å¢ URIã€
     - æ·»åŠ ï¼š`https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback`
     - **é‡è¦**ï¼šé€™æ˜¯ Supabase çš„æ¨™æº–å›èª¿ URLï¼Œå¿…é ˆå®Œå…¨ä¸€è‡´
7. é»æ“Šã€Œå»ºç«‹ã€ï¼ˆ**é€™è£¡çš„ã€Œå»ºç«‹ã€æ‰æ˜¯å»ºç«‹ OAuth ç”¨æˆ¶ç«¯ ID**ï¼‰
8. **è¤‡è£½æ†‘è­‰è³‡è¨Š**ï¼š
   - ç³»çµ±æœƒé¡¯ç¤ºä¸€å€‹å½ˆçª—ï¼ŒåŒ…å«ï¼š
     - **æ‚¨çš„ç”¨æˆ¶ç«¯ ID**ï¼šé¡ä¼¼ `123456789-abcdefghijklmnop.apps.googleusercontent.com`
     - **æ‚¨çš„ç”¨æˆ¶ç«¯å¯†é‘°**ï¼šé¡ä¼¼ `GOCSPX-abcdefghijklmnopqrstuvwxyz`
   - âš ï¸ **é‡è¦**ï¼šç”¨æˆ¶ç«¯å¯†é‘°åªæœƒé¡¯ç¤ºä¸€æ¬¡ï¼Œè«‹ç«‹å³è¤‡è£½ä¸¦å¦¥å–„ä¿å­˜
   - é»æ“Šã€Œç¢ºå®šã€é—œé–‰å½ˆçª—

### æ­¥é©Ÿ 6ï¼šé©—è­‰æ†‘è­‰è¨­å®š

1. åœ¨ã€Œæ†‘è­‰ã€é é¢ï¼Œæ‚¨æ‡‰è©²æœƒçœ‹åˆ°å‰›å»ºç«‹çš„ OAuth 2.0 ç”¨æˆ¶ç«¯ ID
2. é»æ“Šç”¨æˆ¶ç«¯ ID åç¨±å¯ä»¥æŸ¥çœ‹è©³ç´°è³‡è¨Š
3. ç¢ºèªã€Œå·²æˆæ¬Šçš„é‡æ–°å°å‘ URIã€åŒ…å«ï¼š
   ```
   https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback
   ```

---

## ğŸ”§ ç¬¬äºŒéƒ¨åˆ†ï¼šSupabase Dashboard è¨­å®š

### æ­¥é©Ÿ 1ï¼šç™»å…¥ Supabase Dashboard

1. å‰å¾€ [Supabase Dashboard](https://app.supabase.com/)
2. ä½¿ç”¨æ‚¨çš„å¸³è™Ÿç™»å…¥
3. é¸æ“‡å°ˆæ¡ˆï¼š`epyykzxxglkjombvozhr`ï¼ˆæˆ–æ‚¨çš„å°ˆæ¡ˆåç¨±ï¼‰

### æ­¥é©Ÿ 2ï¼šå°èˆªåˆ° Authentication è¨­å®š

1. åœ¨å·¦å´å°èˆªæ¬„ï¼Œé»æ“Šã€ŒAuthenticationã€
2. é»æ“Šã€ŒProvidersã€æ¨™ç±¤
3. æ‚¨æœƒçœ‹åˆ°æ‰€æœ‰å¯ç”¨çš„ OAuth providers åˆ—è¡¨

### æ­¥é©Ÿ 3ï¼šå•Ÿç”¨ Google Provider

1. åœ¨ Providers åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ°ã€ŒGoogleã€
2. é»æ“Š Google å¡ç‰‡ä¸Šçš„é–‹é—œæŒ‰éˆ•ï¼Œæˆ–é»æ“Šã€ŒConfigureã€æŒ‰éˆ•
3. é€™æœƒæ‰“é–‹ Google Provider çš„è¨­å®šé é¢

### æ­¥é©Ÿ 4ï¼šå¡«å…¥ Google OAuth æ†‘è­‰

åœ¨ Google Provider è¨­å®šé é¢ä¸­ï¼Œæ‚¨æœƒçœ‹åˆ°ä»¥ä¸‹æ¬„ä½ï¼š

1. **Enable Google provider**ï¼ˆå•Ÿç”¨ Google æä¾›è€…ï¼‰
   - ç¢ºä¿é–‹é—œæ˜¯ã€Œé–‹å•Ÿã€ç‹€æ…‹

2. **Client ID (for OAuth)**ï¼ˆOAuth ç”¨æˆ¶ç«¯ IDï¼‰
   - å¾ Google Cloud Console è¤‡è£½çš„ã€Œæ‚¨çš„ç”¨æˆ¶ç«¯ IDã€
   - æ ¼å¼ï¼š`123456789-abcdefghijklmnop.apps.googleusercontent.com`
   - è²¼ä¸Šåˆ°æ­¤æ¬„ä½

3. **Client Secret (for OAuth)**ï¼ˆOAuth ç”¨æˆ¶ç«¯å¯†é‘°ï¼‰
   - å¾ Google Cloud Console è¤‡è£½çš„ã€Œæ‚¨çš„ç”¨æˆ¶ç«¯å¯†é‘°ã€
   - æ ¼å¼ï¼š`GOCSPX-abcdefghijklmnopqrstuvwxyz`
   - è²¼ä¸Šåˆ°æ­¤æ¬„ä½

4. **Additional scopes**ï¼ˆé¡å¤–ç¯„åœï¼‰
   - é è¨­ç‚ºç©ºï¼Œé€šå¸¸ä¸éœ€è¦ä¿®æ”¹
   - é è¨­æœƒè«‹æ±‚ï¼š`email`ã€`profile`ã€`openid`

### æ­¥é©Ÿ 5ï¼šå„²å­˜è¨­å®š

1. æª¢æŸ¥æ‰€æœ‰æ¬„ä½æ˜¯å¦æ­£ç¢ºå¡«å…¥
2. é»æ“Šé é¢åº•éƒ¨çš„ã€ŒSaveã€æŒ‰éˆ•
3. ç­‰å¾…è¨­å®šå„²å­˜å®Œæˆï¼ˆé€šå¸¸å¹¾ç§’é˜ï¼‰
4. æ‚¨æ‡‰è©²æœƒçœ‹åˆ°æˆåŠŸè¨Šæ¯

### æ­¥é©Ÿ 6ï¼šé©—è­‰ URL è¨­å®šï¼ˆå¯é¸ä½†å»ºè­°ï¼‰

1. åœ¨å·¦å´å°èˆªæ¬„ï¼Œé»æ“Šã€ŒAuthenticationã€
2. é»æ“Šã€ŒURL Configurationã€æ¨™ç±¤
3. ç¢ºèªä»¥ä¸‹è¨­å®šï¼š
   - **Site URL**ï¼š`https://chaos-registry.vercel.app`ï¼ˆæˆ–æ‚¨çš„ç¶²ç«™ URLï¼‰
   - **Redirect URLs**ï¼šæ‡‰è©²åŒ…å«ï¼š
     - `https://chaos-registry.vercel.app/**`ï¼ˆWeb ç‰ˆï¼‰
     - `votechaos://auth/callback`ï¼ˆApp ç‰ˆ Deep Linkï¼‰
     - `http://localhost:8080/**`ï¼ˆæœ¬åœ°é–‹ç™¼ç”¨ï¼Œå¯é¸ï¼‰

---

## âœ… ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ¸¬è©¦ Google ç™»å…¥

### æ¸¬è©¦å‰æº–å‚™

1. **ç¢ºèªå‰ç«¯ä»£ç¢¼å·²æ­£ç¢ºé…ç½®**ï¼ˆå·²å®Œæˆï¼‰ï¼š
   - `src/pages/AuthPage.tsx` ä¸­å·²æœ‰ `handleSocialLogin` å‡½æ•¸
   - UI æŒ‰éˆ•å·²å­˜åœ¨ä¸¦æ­£ç¢ºç¶å®š

2. **ç¢ºèªç’°å¢ƒè®Šæ•¸**ï¼š
   - `VITE_SUPABASE_URL`ï¼š`https://epyykzxxglkjombvozhr.supabase.co`
   - `VITE_SUPABASE_PUBLISHABLE_KEY`ï¼šå·²è¨­å®š

### æ¸¬è©¦æ­¥é©Ÿï¼šWeb ç‰ˆ

1. é–‹å•Ÿæ‚¨çš„æ‡‰ç”¨ç¨‹å¼ï¼ˆWeb ç‰ˆï¼‰
2. å°èˆªåˆ°ç™»å…¥é é¢
3. é»æ“Šã€Œä½¿ç”¨ Google ç™»å…¥ã€æŒ‰éˆ•
4. æ‡‰è©²æœƒè·³è½‰åˆ° Google ç™»å…¥é é¢
5. é¸æ“‡æ‚¨çš„ Google å¸³è™Ÿï¼ˆæˆ–è¼¸å…¥å¸³è™Ÿå¯†ç¢¼ï¼‰
6. å¦‚æœé€™æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œæœƒé¡¯ç¤º OAuth åŒæ„ç•«é¢ï¼š
   - æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼åç¨±å’Œæ¬Šé™
   - é»æ“Šã€Œç¹¼çºŒã€æˆ–ã€Œå…è¨±ã€
7. ç™»å…¥æˆåŠŸå¾Œï¼Œæ‡‰è©²æœƒé‡å®šå‘å›æ‡‰ç”¨ç¨‹å¼é¦–é 
8. ç¢ºèªç”¨æˆ¶å·²æˆåŠŸç™»å…¥ï¼ˆæª¢æŸ¥å³ä¸Šè§’ç”¨æˆ¶è³‡è¨Šï¼‰

### æ¸¬è©¦æ­¥é©Ÿï¼šApp ç‰ˆï¼ˆiOS/Androidï¼‰

1. åœ¨ App ä¸­é–‹å•Ÿæ‡‰ç”¨ç¨‹å¼
2. å°èˆªåˆ°ç™»å…¥é é¢
3. é»æ“Šã€Œä½¿ç”¨ Google ç™»å…¥ã€æŒ‰éˆ•
4. æ‡‰è©²æœƒæ‰“é–‹ç€è¦½å™¨æˆ– Google Appï¼Œé¡¯ç¤ºç™»å…¥é é¢
5. é¸æ“‡æ‚¨çš„ Google å¸³è™Ÿä¸¦å®Œæˆç™»å…¥
6. æˆæ¬Šå®Œæˆå¾Œï¼Œæ‡‰è©²æœƒè‡ªå‹•è¿”å› Appï¼ˆé€é `votechaos://auth/callback` Deep Linkï¼‰
7. ç¢ºèªç”¨æˆ¶å·²æˆåŠŸç™»å…¥

### æ¸¬è©¦æª¢æŸ¥æ¸…å–®

- [ ] Google Cloud Console ä¸­å·²å»ºç«‹ OAuth 2.0 æ†‘è­‰
- [ ] å·²æˆæ¬Šçš„é‡æ–°å°å‘ URI åŒ…å«ï¼š`https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback`
- [ ] Supabase Dashboard ä¸­å·²å•Ÿç”¨ Google Provider
- [ ] Client ID å’Œ Client Secret å·²æ­£ç¢ºå¡«å…¥
- [ ] Web ç‰ˆç™»å…¥æ¸¬è©¦æˆåŠŸ
- [ ] App ç‰ˆç™»å…¥æ¸¬è©¦æˆåŠŸï¼ˆå¦‚æœé©ç”¨ï¼‰

---

## ğŸ› å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### å•é¡Œ 1ï¼š`redirect_uri_mismatch` éŒ¯èª¤

**éŒ¯èª¤è¨Šæ¯**ï¼š
```
Error 400: redirect_uri_mismatch
```

**åŸå› **ï¼š
- Google Cloud Console ä¸­è¨­å®šçš„ã€Œå·²æˆæ¬Šçš„é‡æ–°å°å‘ URIã€èˆ‡å¯¦éš›ä½¿ç”¨çš„ URI ä¸åŒ¹é…

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. å‰å¾€ Google Cloud Console >ã€ŒAPI å’Œæœå‹™ã€>ã€Œæ†‘è­‰ã€
2. é»æ“Šæ‚¨çš„ OAuth 2.0 ç”¨æˆ¶ç«¯ ID
3. åœ¨ã€Œå·²æˆæ¬Šçš„é‡æ–°å°å‘ URIã€ä¸­ï¼Œç¢ºèªåŒ…å«ï¼š
   ```
   https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback
   ```
4. ç¢ºä¿ URI å®Œå…¨ä¸€è‡´ï¼ˆåŒ…æ‹¬ `https://`ã€æ²’æœ‰å°¾éš¨æ–œç·šï¼‰
5. é»æ“Šã€Œå„²å­˜ã€
6. ç­‰å¾…å¹¾åˆ†é˜è®“è®Šæ›´ç”Ÿæ•ˆ
7. é‡æ–°æ¸¬è©¦

### å•é¡Œ 2ï¼š`invalid_client` éŒ¯èª¤

**éŒ¯èª¤è¨Šæ¯**ï¼š
```
Error 401: invalid_client
```

**åŸå› **ï¼š
- Client ID æˆ– Client Secret ä¸æ­£ç¢º
- æ†‘è­‰å·²è¢«åˆªé™¤æˆ–åœç”¨

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. å‰å¾€ Google Cloud Console >ã€ŒAPI å’Œæœå‹™ã€>ã€Œæ†‘è­‰ã€
2. ç¢ºèª OAuth 2.0 ç”¨æˆ¶ç«¯ ID ä»ç„¶å­˜åœ¨ä¸”å•Ÿç”¨
3. å¦‚æœå·²åˆªé™¤ï¼Œéœ€è¦é‡æ–°å»ºç«‹
4. å‰å¾€ Supabase Dashboard >ã€ŒAuthenticationã€>ã€ŒProvidersã€>ã€ŒGoogleã€
5. é‡æ–°è¤‡è£½ä¸¦è²¼ä¸Š Client ID å’Œ Client Secret
6. é»æ“Šã€ŒSaveã€
7. é‡æ–°æ¸¬è©¦

### å•é¡Œ 3ï¼šOAuth åŒæ„ç•«é¢é¡¯ç¤ºã€Œæœªé©—è­‰çš„æ‡‰ç”¨ç¨‹å¼ã€

**èªªæ˜**ï¼š
- é€™æ˜¯æ­£å¸¸çš„ï¼Œå¦‚æœæ‚¨çš„æ‡‰ç”¨ç¨‹å¼é‚„åœ¨é–‹ç™¼æˆ–æ¸¬è©¦éšæ®µ
- Google æœƒé¡¯ç¤ºè­¦å‘Šè¨Šæ¯ï¼Œä½†ä¸æœƒé˜»æ­¢ç™»å…¥

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. å¦‚æœåªæ˜¯æ¸¬è©¦ï¼Œå¯ä»¥å¿½ç•¥æ­¤è­¦å‘Š
2. å¦‚æœè¦ç§»é™¤è­¦å‘Šï¼Œéœ€è¦æäº¤æ‡‰ç”¨ç¨‹å¼é€²è¡Œ Google é©—è­‰ï¼š
   - å‰å¾€ã€ŒOAuth åŒæ„ç•«é¢ã€
   - é»æ“Šã€Œç™¼å¸ƒæ‡‰ç”¨ç¨‹å¼ã€
   - å¡«å¯«æ‰€æœ‰å¿…è¦è³‡è¨Š
   - æäº¤å¯©æ ¸ï¼ˆå¯èƒ½éœ€è¦å¹¾å¤©åˆ°å¹¾é€±ï¼‰

### å•é¡Œ 4ï¼šApp ç‰ˆç™»å…¥å¾Œæ²’æœ‰è¿”å› App

**åŸå› **ï¼š
- Deep Link æœªæ­£ç¢ºé…ç½®
- Supabase URL Configuration ä¸­æœªæ·»åŠ  Deep Link

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. å‰å¾€ Supabase Dashboard >ã€ŒAuthenticationã€>ã€ŒURL Configurationã€
2. åœ¨ã€ŒRedirect URLsã€ä¸­æ·»åŠ ï¼š`votechaos://auth/callback`
3. ç¢ºèª iOS/Android çš„ `Info.plist` æˆ– `AndroidManifest.xml` ä¸­å·²é…ç½® Deep Link
4. é‡æ–°æ¸¬è©¦

### å•é¡Œ 5ï¼šç™»å…¥æˆåŠŸä½†ç”¨æˆ¶è³‡è¨Šä¸å®Œæ•´

**åŸå› **ï¼š
- OAuth ç¯„åœè¨­å®šä¸æ­£ç¢º
- ç”¨æˆ¶æœªæˆæ¬ŠæŸäº›æ¬Šé™

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. å‰å¾€ Supabase Dashboard >ã€ŒAuthenticationã€>ã€ŒProvidersã€>ã€ŒGoogleã€
2. æª¢æŸ¥ã€ŒAdditional scopesã€æ¬„ä½
3. å¦‚æœéœ€è¦æ›´å¤šè³‡è¨Šï¼Œå¯ä»¥æ·»åŠ ç¯„åœï¼ˆä¾‹å¦‚ï¼š`https://www.googleapis.com/auth/user.birthday.read`ï¼‰
4. é‡æ–°æ¸¬è©¦

---

## ğŸ“ é‡è¦æ³¨æ„äº‹é …

### å®‰å…¨æ€§

1. **ä¸è¦åˆ†äº« Client Secret**ï¼š
   - Client Secret æ˜¯æ•æ„Ÿè³‡è¨Šï¼Œä¸è¦æäº¤åˆ° Git å€‰åº«
   - ä¸è¦åœ¨å‰ç«¯ä»£ç¢¼ä¸­ä½¿ç”¨ Client Secret
   - Client Secret åªæ‡‰è©²åœ¨ Supabase Dashboard ä¸­è¨­å®š

2. **å®šæœŸæª¢æŸ¥æ†‘è­‰**ï¼š
   - å®šæœŸæª¢æŸ¥ Google Cloud Console ä¸­çš„æ†‘è­‰ç‹€æ…‹
   - å¦‚æœç™¼ç¾ç•°å¸¸æ´»å‹•ï¼Œç«‹å³æ’¤éŠ·ä¸¦é‡æ–°å»ºç«‹æ†‘è­‰

### ç”Ÿç”¢ç’°å¢ƒ

1. **OAuth åŒæ„ç•«é¢**ï¼š
   - ç”Ÿç”¢ç’°å¢ƒå»ºè­°æäº¤ Google é©—è­‰ï¼Œç§»é™¤ã€Œæœªé©—è­‰çš„æ‡‰ç”¨ç¨‹å¼ã€è­¦å‘Š
   - ç¢ºä¿éš±ç§æ¬Šæ”¿ç­–å’Œæœå‹™æ¢æ¬¾é€£çµæ­£ç¢º

2. **å·²æˆæ¬Šçš„ç¶²åŸŸ**ï¼š
   - ç¢ºä¿æ‰€æœ‰ä½¿ç”¨çš„ç¶²åŸŸéƒ½å·²æ·»åŠ åˆ°ã€Œå·²æˆæ¬Šçš„ç¶²åŸŸã€
   - åŒ…æ‹¬ç”Ÿç”¢ç’°å¢ƒå’Œæ¸¬è©¦ç’°å¢ƒçš„ç¶²åŸŸ

3. **æ¸¬è©¦ä½¿ç”¨è€…**ï¼š
   - å¦‚æœæ‡‰ç”¨ç¨‹å¼é‚„åœ¨æ¸¬è©¦éšæ®µï¼Œç¢ºä¿å·²æ·»åŠ æ‰€æœ‰æ¸¬è©¦ä½¿ç”¨è€…çš„ Google å¸³è™Ÿ

---

## ğŸ”— ç›¸é—œè³‡æº

- [Google OAuth 2.0 å®˜æ–¹æ–‡ä»¶](https://developers.google.com/identity/protocols/oauth2)
- [Supabase Authentication æ–‡ä»¶](https://supabase.com/docs/guides/auth)
- [Supabase Google Provider æ–‡ä»¶](https://supabase.com/docs/guides/auth/social-login/auth-google)

---

## âœ… å®Œæˆæª¢æŸ¥æ¸…å–®

å®Œæˆæ‰€æœ‰è¨­å®šå¾Œï¼Œè«‹ç¢ºèªï¼š

- [ ] Google Cloud Console ä¸­å·²å»ºç«‹ OAuth 2.0 æ†‘è­‰
- [ ] å·²æˆæ¬Šçš„é‡æ–°å°å‘ URI æ­£ç¢ºè¨­å®š
- [ ] OAuth åŒæ„ç•«é¢å·²è¨­å®š
- [ ] Supabase Dashboard ä¸­å·²å•Ÿç”¨ Google Provider
- [ ] Client ID å’Œ Client Secret å·²æ­£ç¢ºå¡«å…¥
- [ ] URL Configuration ä¸­å·²è¨­å®šæ­£ç¢ºçš„ Redirect URLs
- [ ] Web ç‰ˆç™»å…¥æ¸¬è©¦æˆåŠŸ
- [ ] App ç‰ˆç™»å…¥æ¸¬è©¦æˆåŠŸï¼ˆå¦‚æœé©ç”¨ï¼‰

---

**æœ€å¾Œæ›´æ–°**ï¼š2025å¹´1æœˆ
**é©ç”¨ç‰ˆæœ¬**ï¼šSupabase æœ€æ–°ç‰ˆã€Google Cloud Console 2025 æœ€æ–°ä»‹é¢

