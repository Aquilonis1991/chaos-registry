# X (Twitter) ç™»å…¥ - æ¸¬è©¦æ­¥é©Ÿ

> **å»ºç«‹æ—¥æœŸ**ï¼š2025-01-29  
> **ç‹€æ…‹**ï¼šå·²æ·»åŠ  Web URL å›èª¿è™•ç†ï¼Œå¯ä»¥é–‹å§‹æ¸¬è©¦

---

## ğŸ”§ å·²å®Œæˆçš„ä¿®æ”¹

1. **æ·»åŠ  Web URL å›èª¿è™•ç†**ï¼š
   - å‰µå»ºäº† `src/pages/OAuthCallbackPage.tsx`
   - æ·»åŠ äº† `/auth/callback` è·¯ç”±
   - æš«æ™‚ä¿®æ”¹ `redirectTo` ä½¿ç”¨ Web URL è€Œä¸æ˜¯ Deep Link

2. **é‡æ–°å»ºç½®å’ŒåŒæ­¥**ï¼š
   - âœ… å·²é‡æ–°å»ºç½®å‰ç«¯
   - âœ… å·²åŒæ­¥åˆ° Android å°ˆæ¡ˆ

---

## ğŸ“‹ æ¸¬è©¦å‰æª¢æŸ¥æ¸…å–®

### 1. Supabase URL Configuration

**æª¢æŸ¥æ­¥é©Ÿ**ï¼š

1. ç™»å…¥ [Supabase Dashboard](https://app.supabase.com/)
2. é€²å…¥ **Authentication** â†’ **URL Configuration**
3. **ç¢ºèªä»¥ä¸‹ URL éƒ½åœ¨ Redirect URLs åˆ—è¡¨ä¸­**ï¼š
   - âœ… `votechaos://auth/callback`ï¼ˆDeep Linkï¼Œæœªä¾†ä½¿ç”¨ï¼‰
   - âœ… `https://chaos-registry.vercel.app/auth/callback`ï¼ˆWeb URLï¼Œç•¶å‰æ¸¬è©¦ç”¨ï¼‰

4. **å¦‚æœç¼ºå°‘ï¼Œè«‹æ·»åŠ **ï¼š
   - é»æ“Š **Add URL**
   - è¼¸å…¥ï¼š`https://chaos-registry.vercel.app/auth/callback`
   - é»æ“Š **Save**
   - ç­‰å¾… 30 ç§’

---

### 2. Supabase Provider ç‹€æ…‹

**æª¢æŸ¥æ­¥é©Ÿ**ï¼š

1. é€²å…¥ **Authentication** â†’ **Providers** â†’ **X (Twitter)**
2. **ç¢ºèªé–‹é—œç‹€æ…‹**ï¼š
   - é–‹é—œå¿…é ˆæ˜¯**ç¶ è‰²**ï¼ˆå•Ÿç”¨ï¼‰
   - ä¸èƒ½æ˜¯ç°è‰²ï¼ˆåœç”¨ï¼‰

3. **ç¢ºèªæ†‘è­‰**ï¼š
   - API Keyï¼š`R05yT2N5QUFWTEhoeUpScHVZR3A6MTpjaQ`
   - API Secret Keyï¼šå·²æ­£ç¢ºå¡«å…¥ï¼ˆä¸é¡¯ç¤ºï¼‰

4. **å¦‚æœé–‹é—œæœªå•Ÿç”¨**ï¼š
   - é»æ“Šé–‹é—œå•Ÿç”¨
   - ç¢ºèªæ†‘è­‰æ­£ç¢º
   - é»æ“Š **Save**
   - ç­‰å¾… 30 ç§’

---

### 3. X Developer Portal Callback URI

**æª¢æŸ¥æ­¥é©Ÿ**ï¼š

1. ç™»å…¥ [X Developer Portal](https://developer.x.com/)
2. é€²å…¥æ‚¨çš„å°ˆæ¡ˆå’Œæ‡‰ç”¨ç¨‹å¼
3. é€²å…¥ **User authentication settings**
4. **ç¢ºèª Callback URI**ï¼š
   - å¿…é ˆæ˜¯ï¼š`https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback`
   - ä¸èƒ½æ˜¯ï¼š`votechaos://auth/callback` æˆ– `https://chaos-registry.vercel.app/auth/callback`

---

## ğŸ§ª æ¸¬è©¦æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šåœ¨ Android Studio ä¸­æ¸¬è©¦

1. **æ‰“é–‹ Android Studio**
2. **é‹è¡Œæ‡‰ç”¨ç¨‹å¼**ï¼ˆåœ¨æ¨¡æ“¬å™¨æˆ–å¯¦é«”è¨­å‚™ä¸Šï¼‰
3. **æ‰“é–‹ Logcat**ï¼š
   - éæ¿¾å™¨ï¼š`com.votechaos.app`
   - æˆ–ä¸éæ¿¾ï¼ŒæŸ¥çœ‹æ‰€æœ‰æ—¥èªŒ

4. **é»æ“Š Twitter ç™»å…¥æŒ‰éˆ•**

5. **è§€å¯Ÿè¡Œç‚º**ï¼š
   - ç€è¦½å™¨æ˜¯å¦æ‰“é–‹ï¼Ÿ
   - é¡¯ç¤ºä»€éº¼å…§å®¹ï¼Ÿ
     - âœ… X æˆæ¬Šé é¢ï¼ˆæˆåŠŸï¼‰
     - âŒ Supabase éŒ¯èª¤é é¢ï¼ˆå¤±æ•—ï¼‰
     - âŒ ç©ºç™½é ï¼ˆå¯èƒ½æœ‰å•é¡Œï¼‰

6. **å¦‚æœé¡¯ç¤º X æˆæ¬Šé é¢**ï¼š
   - é»æ“Šã€Œæˆæ¬Šæ‡‰ç”¨ç¨‹å¼ã€
   - è§€å¯Ÿæ˜¯å¦æ­£ç¢ºå›èª¿åˆ°æ‡‰ç”¨ç¨‹å¼
   - è§€å¯Ÿæ˜¯å¦æˆåŠŸç™»å…¥

---

### æ­¥é©Ÿ 2ï¼šæŸ¥çœ‹ Logcat è¼¸å‡º

**é—œéµæ—¥èªŒ**ï¼š

1. **OAuth URL ç”Ÿæˆ**ï¼š
   ```
   [OAuth] Starting OAuth flow: { provider: 'twitter', redirectUrl: '...', ... }
   [OAuth] Response: { data: { url: '...' }, error: null }
   ```

2. **ç€è¦½å™¨æ‰“é–‹**ï¼š
   ```
   App paused
   ```

3. **å›èª¿è™•ç†**ï¼ˆå¦‚æœæˆåŠŸï¼‰ï¼š
   ```
   [OAuthCallbackPage] Processing OAuth callback
   [OAuthCallbackPage] Session established, user authenticated: ...
   ```

4. **éŒ¯èª¤è¨Šæ¯**ï¼ˆå¦‚æœå¤±æ•—ï¼‰ï¼š
   ```
   [OAuth] Error details: { message: '...', status: ..., ... }
   ```

---

### æ­¥é©Ÿ 3ï¼šæª¢æŸ¥ Supabase Authentication Logs

1. ç™»å…¥ [Supabase Dashboard](https://app.supabase.com/)
2. é€²å…¥ **Authentication** â†’ **Logs**
3. **æŸ¥çœ‹æœ€è¿‘çš„èªè­‰è«‹æ±‚**ï¼š
   - æ‰¾åˆ° Twitter ç›¸é—œçš„è«‹æ±‚
   - æŸ¥çœ‹è«‹æ±‚ç‹€æ…‹ï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰
   - æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯ï¼ˆå¦‚æœæœ‰ï¼‰

---

## ğŸ¯ é æœŸçµæœ

### æˆåŠŸæƒ…æ³

1. âœ… é»æ“Š Twitter ç™»å…¥æŒ‰éˆ•
2. âœ… ç€è¦½å™¨æ‰“é–‹ï¼Œé¡¯ç¤º X æˆæ¬Šé é¢
3. âœ… é»æ“Šã€Œæˆæ¬Šæ‡‰ç”¨ç¨‹å¼ã€
4. âœ… ç€è¦½å™¨é—œé–‰ï¼Œæ‡‰ç”¨ç¨‹å¼æ¢å¾©
5. âœ… é¡¯ç¤ºã€Œç™»å…¥æˆåŠŸï¼ã€æç¤º
6. âœ… è‡ªå‹•å°èˆªåˆ°é¦–é ï¼ˆ`/home`ï¼‰

### å¤±æ•—æƒ…æ³

å¦‚æœä»ç„¶é¡¯ç¤º `{"error":"è«‹æ±‚çš„è·¯å¾‘ç„¡æ•ˆ"}`ï¼š

1. **æª¢æŸ¥ Supabase URL Configuration**ï¼š
   - ç¢ºèª `https://chaos-registry.vercel.app/auth/callback` åœ¨åˆ—è¡¨ä¸­
   - ç¢ºèªæ²’æœ‰å¤šé¤˜ç©ºæ ¼

2. **æª¢æŸ¥ Supabase Provider**ï¼š
   - ç¢ºèªé–‹é—œçœŸçš„å•Ÿç”¨
   - å˜—è©¦é‡æ–°å•Ÿç”¨

3. **æŸ¥çœ‹ Supabase Logs**ï¼š
   - æŸ¥çœ‹å¯¦éš›çš„éŒ¯èª¤è©³æƒ…
   - äº†è§£ Supabase ç‚ºä»€éº¼æ‹’çµ•è«‹æ±‚

---

## ğŸ“ æ¸¬è©¦çµæœè¨˜éŒ„

è«‹è¨˜éŒ„ä»¥ä¸‹è³‡è¨Šï¼š

1. **æ¸¬è©¦æ™‚é–“**ï¼š__________
2. **æ¸¬è©¦è¨­å‚™**ï¼š__________ï¼ˆæ¨¡æ“¬å™¨/å¯¦é«”è¨­å‚™ï¼‰
3. **ç€è¦½å™¨è¡Œç‚º**ï¼š
   - [ ] ç€è¦½å™¨æ‰“é–‹
   - [ ] é¡¯ç¤º X æˆæ¬Šé é¢
   - [ ] é¡¯ç¤º Supabase éŒ¯èª¤é é¢
   - [ ] é¡¯ç¤ºç©ºç™½é 
   - [ ] å…¶ä»–ï¼š__________

4. **å›èª¿è¡Œç‚º**ï¼š
   - [ ] æˆåŠŸå›èª¿åˆ°æ‡‰ç”¨ç¨‹å¼
   - [ ] é¡¯ç¤ºã€Œç™»å…¥æˆåŠŸï¼ã€
   - [ ] è‡ªå‹•å°èˆªåˆ°é¦–é 
   - [ ] éŒ¯èª¤ï¼š__________

5. **Logcat è¼¸å‡º**ï¼š
   - é—œéµæ—¥èªŒï¼š__________
   - éŒ¯èª¤è¨Šæ¯ï¼š__________

6. **Supabase Logs**ï¼š
   - è«‹æ±‚ç‹€æ…‹ï¼š__________
   - éŒ¯èª¤è¨Šæ¯ï¼š__________

---

## ğŸ”— ç›¸é—œæ–‡ä»¶

- [X ç™»å…¥è¨­å®šæŒ‡å— - 2025 æœ€æ–°ç‰ˆ](./Xç™»å…¥è¨­å®šæŒ‡å—-2025æœ€æ–°ç‰ˆ.md)
- [X ç™»å…¥-SupabaseéŒ¯èª¤è§£æ±º](./Xç™»å…¥-SupabaseéŒ¯èª¤è§£æ±º.md)
- [X ç™»å…¥å•é¡Œæ’æŸ¥æ­¥é©Ÿ](./Xç™»å…¥å•é¡Œæ’æŸ¥æ­¥é©Ÿ.md)

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-01-29



