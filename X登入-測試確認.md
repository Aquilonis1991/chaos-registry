# X (Twitter) ç™»å…¥ - æ¸¬è©¦ç¢ºèª

> **å»ºç«‹æ—¥æœŸ**ï¼š2025-01-29  
> **ç‹€æ…‹**ï¼šâœ… Redirect URLs å·²æ·»åŠ ï¼Œå¯ä»¥é–‹å§‹æ¸¬è©¦

---

## âœ… å·²ç¢ºèªçš„è¨­å®š

### Supabase URL Configuration

å·²æ·»åŠ ä»¥ä¸‹ Redirect URLsï¼š

1. âœ… `votechaos://auth/callback`ï¼ˆDeep Linkï¼‰
2. âœ… `https://chaos-registry.vercel.app/auth/callback`ï¼ˆWeb URLï¼‰

---

## ğŸ§ª æ¸¬è©¦æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šç­‰å¾…è¨­å®šç”Ÿæ•ˆ

**é‡è¦**ï¼šæ·»åŠ  URL å¾Œï¼ŒSupabase éœ€è¦ 30-60 ç§’ä¾†åŒæ­¥è¨­å®šã€‚

**å»ºè­°**ï¼š
- å¦‚æœå‰›å‰›æ·»åŠ ï¼Œè«‹ç­‰å¾… **60 ç§’**
- ç„¶å¾Œå†é€²è¡Œæ¸¬è©¦

---

### æ­¥é©Ÿ 2ï¼šåœ¨ Android Studio ä¸­æ¸¬è©¦

1. **æ‰“é–‹ Android Studio**
2. **é‹è¡Œæ‡‰ç”¨ç¨‹å¼**ï¼ˆåœ¨æ¨¡æ“¬å™¨æˆ–å¯¦é«”è¨­å‚™ä¸Šï¼‰
3. **æ‰“é–‹ Logcat**ï¼š
   - éæ¿¾å™¨ï¼š`com.votechaos.app`
   - æˆ–ä¸éæ¿¾ï¼ŒæŸ¥çœ‹æ‰€æœ‰æ—¥èªŒ

4. **é»æ“Š Twitter ç™»å…¥æŒ‰éˆ•**

---

### æ­¥é©Ÿ 3ï¼šè§€å¯Ÿè¡Œç‚º

#### æˆåŠŸæƒ…æ³ âœ…

1. **ç€è¦½å™¨æ‰“é–‹**
2. **é¡¯ç¤º X æˆæ¬Šé é¢**ï¼ˆä¸æ˜¯ Supabase éŒ¯èª¤é é¢ï¼‰
   - æ‡‰è©²çœ‹åˆ° X (Twitter) çš„æˆæ¬Šé é¢
   - é¡¯ç¤ºæ‡‰ç”¨ç¨‹å¼åç¨±å’Œæ¬Šé™è«‹æ±‚
3. **é»æ“Šã€Œæˆæ¬Šæ‡‰ç”¨ç¨‹å¼ã€**
4. **ç€è¦½å™¨é—œé–‰ï¼Œæ‡‰ç”¨ç¨‹å¼æ¢å¾©**
5. **é¡¯ç¤ºã€Œç™»å…¥æˆåŠŸï¼ã€æç¤º**
6. **è‡ªå‹•å°èˆªåˆ°é¦–é **ï¼ˆ`/home`ï¼‰

#### å¤±æ•—æƒ…æ³ âŒ

å¦‚æœä»ç„¶é¡¯ç¤ºï¼š
- `{"error":"è«‹æ±‚çš„è·¯å¾‘ç„¡æ•ˆ"}`
- æˆ– Supabase éŒ¯èª¤é é¢

è«‹ç¹¼çºŒæŸ¥çœ‹ã€Œæ•…éšœæ’é™¤ã€éƒ¨åˆ†ã€‚

---

### æ­¥é©Ÿ 4ï¼šæŸ¥çœ‹ Logcat è¼¸å‡º

**é—œéµæ—¥èªŒ**ï¼š

1. **OAuth URL ç”Ÿæˆ**ï¼ˆæ‡‰è©²å·²çœ‹åˆ°ï¼‰ï¼š
   ```
   [OAuth] Starting OAuth flow: { provider: 'twitter', redirectUrl: '...', ... }
   [OAuth] OAuth URL generated: https://epyykzxxglkjombvozhr.supabase.co/auth/v1/authorize?provider=twitter&redirect_to=...
   ```

2. **æ‡‰ç”¨ç¨‹å¼æš«åœ**ï¼ˆæ‡‰è©²å·²çœ‹åˆ°ï¼‰ï¼š
   ```
   App paused
   ```

3. **å›èª¿è™•ç†**ï¼ˆå¦‚æœæˆåŠŸï¼Œæ‡‰è©²æœƒçœ‹åˆ°ï¼‰ï¼š
   ```
   [OAuthCallbackPage] Processing OAuth callback
   [OAuthCallbackPage] Session established, user authenticated: ...
   ```

4. **éŒ¯èª¤è¨Šæ¯**ï¼ˆå¦‚æœå¤±æ•—ï¼‰ï¼š
   ```
   [OAuth] Error details: { message: '...', status: ..., ... }
   ```

---

## ğŸ” æ•…éšœæ’é™¤

### å¦‚æœä»ç„¶é¡¯ç¤º Supabase éŒ¯èª¤

#### 1. ç¢ºèªè¨­å®šå·²ç”Ÿæ•ˆ

- **ç­‰å¾…æ›´é•·æ™‚é–“**ï¼ˆ60-120 ç§’ï¼‰
- **åˆ·æ–° Supabase Dashboard é é¢**ï¼Œç¢ºèª URL ä»åœ¨åˆ—è¡¨ä¸­

#### 2. æª¢æŸ¥ Supabase Provider ç‹€æ…‹

1. é€²å…¥ **Authentication** â†’ **Providers** â†’ **X (Twitter)**
2. **ç¢ºèªé–‹é—œç‹€æ…‹**ï¼š
   - é–‹é—œå¿…é ˆæ˜¯**ç¶ è‰²**ï¼ˆå•Ÿç”¨ï¼‰
   - ä¸èƒ½æ˜¯ç°è‰²ï¼ˆåœç”¨ï¼‰

3. **å¦‚æœé–‹é—œæœªå•Ÿç”¨**ï¼š
   - é»æ“Šé–‹é—œå•Ÿç”¨
   - ç¢ºèªæ†‘è­‰æ­£ç¢ºï¼š
     - API Keyï¼š`R05yT2N5QUFWTEhoeUpScHVZR3A6MTpjaQ`
     - API Secret Keyï¼šå·²æ­£ç¢ºå¡«å…¥
   - é»æ“Š **Save**
   - ç­‰å¾… 30 ç§’

#### 3. æª¢æŸ¥ X Developer Portal Callback URI

1. ç™»å…¥ [X Developer Portal](https://developer.x.com/)
2. é€²å…¥æ‚¨çš„å°ˆæ¡ˆå’Œæ‡‰ç”¨ç¨‹å¼
3. é€²å…¥ **User authentication settings**
4. **ç¢ºèª Callback URI**ï¼š
   - å¿…é ˆæ˜¯ï¼š`https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback`
   - ä¸èƒ½æ˜¯ï¼š`votechaos://auth/callback` æˆ– `https://chaos-registry.vercel.app/auth/callback`

#### 4. æŸ¥çœ‹ Supabase Authentication Logs

1. ç™»å…¥ [Supabase Dashboard](https://app.supabase.com/)
2. é€²å…¥ **Authentication** â†’ **Logs**
3. **æŸ¥çœ‹æœ€è¿‘çš„èªè­‰è«‹æ±‚**ï¼š
   - æ‰¾åˆ° Twitter ç›¸é—œçš„è«‹æ±‚
   - æŸ¥çœ‹è«‹æ±‚ç‹€æ…‹ï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰
   - æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯ï¼ˆå¦‚æœæœ‰ï¼‰
   - æŸ¥çœ‹è«‹æ±‚åƒæ•¸ï¼ˆç‰¹åˆ¥æ˜¯ `redirect_to`ï¼‰

#### 5. æª¢æŸ¥ URL æ ¼å¼

ç¢ºèª Supabase URL Configuration ä¸­çš„ URL æ ¼å¼å®Œå…¨æ­£ç¢ºï¼š

âœ… **æ­£ç¢º**ï¼š
- `votechaos://auth/callback`
- `https://chaos-registry.vercel.app/auth/callback`

âŒ **éŒ¯èª¤**ï¼š
- `votechaos://auth/callback/`ï¼ˆçµå°¾å¤šäº†ä¸€å€‹æ–œç·šï¼‰
- `https://chaos-registry.vercel.app/auth/callback/`ï¼ˆçµå°¾å¤šäº†ä¸€å€‹æ–œç·šï¼‰
- `https://chaos-registry.vercel.app/auth/callback `ï¼ˆçµå°¾æœ‰ç©ºæ ¼ï¼‰
- `chaos-registry.vercel.app/auth/callback`ï¼ˆç¼ºå°‘ `https://`ï¼‰

---

## ğŸ“ æ¸¬è©¦çµæœè¨˜éŒ„

è«‹è¨˜éŒ„ä»¥ä¸‹è³‡è¨Šï¼š

1. **æ¸¬è©¦æ™‚é–“**ï¼š__________
2. **ç­‰å¾…æ™‚é–“**ï¼š__________ï¼ˆå¾æ·»åŠ  URL åˆ°æ¸¬è©¦çš„æ™‚é–“ï¼‰
3. **ç€è¦½å™¨è¡Œç‚º**ï¼š
   - [ ] ç€è¦½å™¨æ‰“é–‹
   - [ ] é¡¯ç¤º X æˆæ¬Šé é¢ âœ…
   - [ ] é¡¯ç¤º Supabase éŒ¯èª¤é é¢ âŒ
   - [ ] é¡¯ç¤ºç©ºç™½é  âŒ
   - [ ] å…¶ä»–ï¼š__________

4. **å›èª¿è¡Œç‚º**ï¼š
   - [ ] æˆåŠŸå›èª¿åˆ°æ‡‰ç”¨ç¨‹å¼ âœ…
   - [ ] é¡¯ç¤ºã€Œç™»å…¥æˆåŠŸï¼ã€âœ…
   - [ ] è‡ªå‹•å°èˆªåˆ°é¦–é  âœ…
   - [ ] éŒ¯èª¤ï¼š__________

5. **Logcat è¼¸å‡º**ï¼š
   - é—œéµæ—¥èªŒï¼š__________
   - éŒ¯èª¤è¨Šæ¯ï¼š__________

6. **Supabase Logs**ï¼š
   - è«‹æ±‚ç‹€æ…‹ï¼š__________
   - éŒ¯èª¤è¨Šæ¯ï¼š__________

---

## ğŸ¯ ä¸‹ä¸€æ­¥

### å¦‚æœæˆåŠŸ âœ…

1. **æ¸¬è©¦å®Œæ•´æµç¨‹**ï¼š
   - é»æ“Š Twitter ç™»å…¥
   - æˆæ¬Šæ‡‰ç”¨ç¨‹å¼
   - ç¢ºèªæˆåŠŸç™»å…¥
   - ç¢ºèªç”¨æˆ¶è³‡è¨Šæ­£ç¢º

2. **æ¸¬è©¦å…¶ä»–åŠŸèƒ½**ï¼š
   - ç™»å‡º
   - å†æ¬¡ç™»å…¥
   - ç¢ºèª session æŒä¹…åŒ–

3. **è€ƒæ…®æ”¹å› Deep Link**ï¼ˆå¯é¸ï¼‰ï¼š
   - å¦‚æœ Web URL æˆåŠŸï¼Œå¯ä»¥è€ƒæ…®æ”¹å›ä½¿ç”¨ Deep Link
   - ä½†éœ€è¦ç¢ºèª Deep Link ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ

### å¦‚æœå¤±æ•— âŒ

è«‹æä¾›ï¼š
1. **å®Œæ•´çš„ Logcat è¼¸å‡º**ï¼ˆç‰¹åˆ¥æ˜¯éŒ¯èª¤è¨Šæ¯ï¼‰
2. **Supabase Authentication Logs**ï¼ˆæœ€è¿‘çš„ Twitter ç™»å…¥è«‹æ±‚ï¼‰
3. **ç€è¦½å™¨ä¸­é¡¯ç¤ºçš„å…§å®¹**ï¼ˆæˆªåœ–æˆ–æ–‡å­—æè¿°ï¼‰

---

## ğŸ”— ç›¸é—œæ–‡ä»¶

- [X ç™»å…¥è¨­å®šæŒ‡å— - 2025 æœ€æ–°ç‰ˆ](./Xç™»å…¥è¨­å®šæŒ‡å—-2025æœ€æ–°ç‰ˆ.md)
- [X ç™»å…¥-SupabaseéŒ¯èª¤è§£æ±º](./Xç™»å…¥-SupabaseéŒ¯èª¤è§£æ±º.md)
- [X ç™»å…¥-ç«‹å³ä¿®å¾©æ­¥é©Ÿ](./Xç™»å…¥-ç«‹å³ä¿®å¾©æ­¥é©Ÿ.md)
- [X ç™»å…¥-æ¸¬è©¦æ­¥é©Ÿ](./Xç™»å…¥-æ¸¬è©¦æ­¥é©Ÿ.md)

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-01-29


