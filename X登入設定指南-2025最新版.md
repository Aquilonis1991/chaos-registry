# X (Twitter) ç¬¬ä¸‰æ–¹ç™»å…¥è¨­å®šæŒ‡å— - 2025 æœ€æ–°ç‰ˆ

> **æ›´æ–°æ—¥æœŸ**ï¼š2025-01-29  
> **é©ç”¨ç‰ˆæœ¬**ï¼šX Developer Portal 2025 æœ€æ–°ä»‹é¢  
> **OAuth ç‰ˆæœ¬**ï¼šOAuth 2.0

---

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—èªªæ˜å¦‚ä½•åœ¨ X Developer Portal ä¸­è¨­å®š X (Twitter) ç¬¬ä¸‰æ–¹ç™»å…¥ï¼Œä¸¦åœ¨ Supabase ä¸­å•Ÿç”¨ X Providerã€‚æœ¬æŒ‡å—åŸºæ–¼ 2025 å¹´æœ€æ–°çš„ X Developer Portal ä»‹é¢ã€‚

---

## ğŸ”§ æ­¥é©Ÿ 1ï¼šç™»å…¥ X Developer Portal

### 1.1 è¨ªå• X Developer Portal

1. å‰å¾€ï¼š**https://developer.x.com/**
2. ä½¿ç”¨æ‚¨çš„ X (Twitter) å¸³è™Ÿç™»å…¥
3. å¦‚æœé‚„æ²’æœ‰é–‹ç™¼è€…å¸³è™Ÿï¼Œè«‹é»æ“Š **ã€ŒSign upã€** ç”³è«‹

### 1.2 ç”³è«‹é–‹ç™¼è€…å¸³è™Ÿï¼ˆå¦‚éœ€è¦ï¼‰

1. é»æ“Š **ã€ŒSign upã€** æˆ– **ã€ŒApply for a developer accountã€**
2. å¡«å¯«ç”³è«‹è¡¨å–®ï¼š
   - é¸æ“‡å¸³è™Ÿç”¨é€”ï¼ˆå€‹äººã€å•†æ¥­ç­‰ï¼‰
   - èªªæ˜ä½¿ç”¨ç›®çš„
   - **å¡«å¯«ä½¿ç”¨æ¡ˆä¾‹èªªæ˜**ï¼ˆè¦‹ä¸‹æ–¹è©³ç´°èªªæ˜ï¼‰

#### å¡«å¯«ä½¿ç”¨æ¡ˆä¾‹èªªæ˜ï¼ˆUse Casesï¼‰

åœ¨ **ã€ŒDescribe all of your use cases of X's data and APIã€** æ¬„ä½ä¸­ï¼Œå»ºè­°å¡«å¯«ï¼š

**ä¸­æ–‡ç‰ˆï¼š**
```
æˆ‘å€‘ä½¿ç”¨ X API ä¾†å¯¦ç¾ç¬¬ä¸‰æ–¹ç™»å…¥åŠŸèƒ½ï¼Œè®“ç”¨æˆ¶å¯ä»¥ä½¿ç”¨ X (Twitter) å¸³è™Ÿç™»å…¥æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼ ChaosRegistryã€‚

å…·é«”ä½¿ç”¨æ¡ˆä¾‹ï¼š
1. ç”¨æˆ¶èªè­‰ï¼šä½¿ç”¨ OAuth 2.0 å”è­°é€²è¡Œç”¨æˆ¶èº«ä»½é©—è­‰
2. ç²å–ç”¨æˆ¶è³‡è¨Šï¼šè®€å–ç”¨æˆ¶çš„åŸºæœ¬è³‡è¨Šï¼ˆç”¨æˆ¶åã€é ­åƒç­‰ï¼‰ç”¨æ–¼å»ºç«‹æˆ–æ›´æ–°ç”¨æˆ¶å¸³è™Ÿ
3. ç™»å…¥æ•´åˆï¼šå°‡ X å¸³è™Ÿèˆ‡æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼å¸³è™Ÿé€²è¡Œé—œè¯

æˆ‘å€‘ä¸æœƒï¼š
- ç™¼å¸ƒæ¨æ–‡æˆ–ä»»ä½•å…§å®¹åˆ° X
- è®€å–æˆ–å­˜å–ç”¨æˆ¶çš„æ¨æ–‡å…§å®¹
- è½‰å”®æˆ–åˆ†äº«å¾ X API ç²å–çš„ä»»ä½•æ•¸æ“š
- å°‡ X çš„æ•¸æ“šç”¨æ–¼ä»»ä½•å•†æ¥­ç”¨é€”æˆ–è½‰å”®

æˆ‘å€‘åƒ…ä½¿ç”¨ X API é€²è¡Œç”¨æˆ¶èº«ä»½é©—è­‰å’Œå¸³è™Ÿæ•´åˆï¼Œå®Œå…¨éµå®ˆ X çš„é–‹ç™¼è€…å”è­°å’Œæ”¿ç­–ã€‚
```

**English Versionï¼š**
```
We use X API to implement third-party login functionality, allowing users to sign in to our application ChaosRegistry using their X (Twitter) account.

Specific use cases:
1. User authentication: Using OAuth 2.0 protocol for user identity verification
2. User information retrieval: Reading user's basic information (username, avatar, etc.) to create or update user accounts
3. Login integration: Linking X accounts with our application accounts

We will NOT:
- Post tweets or any content to X
- Read or access user's tweet content
- Resell or share any data obtained from X API
- Use X's data for any commercial purposes or resale

We only use X API for user authentication and account integration, fully complying with X's Developer Agreement and Policy.
```

**å»ºè­°**ï¼šå¦‚æœ X Developer Portal æ”¯æ´å¤šèªè¨€ï¼Œå¯ä»¥é¸æ“‡å¡«å¯«è‹±æ–‡ç‰ˆï¼Œå› ç‚ºè‹±æ–‡æ˜¯åœ‹éš›é€šç”¨èªè¨€ï¼Œå¯©æ ¸é€šéç‡å¯èƒ½è¼ƒé«˜ã€‚

#### åŒæ„é–‹ç™¼è€…å”è­°

åœ¨ç”³è«‹è¡¨å–®çš„æœ€å¾Œï¼Œæ‚¨éœ€è¦ï¼š

1. **å‹¾é¸ä»¥ä¸‹é¸é …**ï¼š
   - âœ… **ã€ŒYou understand that you may not resell anything you receive via the X APIsã€**
     - æ‚¨ç†è§£ä¸èƒ½è½‰å”®å¾ X API ç²å–çš„ä»»ä½•å…§å®¹
   
   - âœ… **ã€ŒYou understand your Developer account may be terminated if you violate the Developer Agreement or any of the Incorporated Developer Termsã€**
     - æ‚¨ç†è§£å¦‚æœé•åé–‹ç™¼è€…å”è­°æˆ–ä»»ä½•ç›¸é—œæ¢æ¬¾ï¼Œé–‹ç™¼è€…å¸³è™Ÿå¯èƒ½æœƒè¢«çµ‚æ­¢
   
   - âœ… **ã€ŒYou accept the Terms & Conditionsã€**
     - æ‚¨æ¥å—æ¢æ¬¾èˆ‡æ¢ä»¶

2. **å‹¾é¸æœ€çµ‚ç¢ºèª**ï¼š
   - âœ… **ã€ŒBy clicking on the box, and by otherwise accessing or using any Licensed Material, you indicate that you have read and agree to this Developer Agreement and the X Developer Policyã€**
     - é»æ“Šæ­¤æ¡†ä¸¦ä½¿ç”¨ä»»ä½•æˆæ¬Šææ–™ï¼Œå³è¡¨ç¤ºæ‚¨å·²é–±è®€ä¸¦åŒæ„æ­¤é–‹ç™¼è€…å”è­°å’Œ X é–‹ç™¼è€…æ”¿ç­–

3. é»æ“Š **ã€ŒSubmitã€** æˆ– **ã€ŒApplyã€** æäº¤ç”³è«‹

4. ç­‰å¾…å¯©æ ¸é€šéï¼ˆé€šå¸¸éœ€è¦ 1-3 å€‹å·¥ä½œå¤©ï¼‰

---

## ğŸ”§ æ­¥é©Ÿ 2ï¼šå»ºç«‹å°ˆæ¡ˆå’Œæ‡‰ç”¨ç¨‹å¼

### 2.1 å»ºç«‹å°ˆæ¡ˆï¼ˆProjectï¼‰

1. ç™»å…¥ X Developer Portal å¾Œï¼Œé€²å…¥ **ã€ŒDeveloper Portalã€**
2. é»æ“Šå·¦å´é¸å–®çš„ **ã€ŒProjects & Appsã€** æˆ– **ã€ŒOverviewã€**
3. é»æ“Š **ã€Œ+ Create Projectã€** æˆ– **ã€ŒCreate new projectã€**
4. å¡«å¯«å°ˆæ¡ˆè³‡è¨Šï¼š
   - **Project name**ï¼š`ChaosRegistry`ï¼ˆæˆ–æ‚¨æƒ³è¦çš„å°ˆæ¡ˆåç¨±ï¼‰
   - **Use case**ï¼šé¸æ“‡ **ã€ŒMaking a botã€** æˆ– **ã€ŒExploring the APIã€**ï¼ˆæ ¹æ“šæ‚¨çš„éœ€æ±‚ï¼‰
   - **Description**ï¼šå¡«å¯«å°ˆæ¡ˆæè¿°
5. é»æ“Š **ã€ŒNextã€** æˆ– **ã€ŒCreateã€**

### 2.2 å»ºç«‹æ‡‰ç”¨ç¨‹å¼ï¼ˆAppï¼‰

1. åœ¨å°ˆæ¡ˆé é¢ä¸­ï¼Œé»æ“Š **ã€Œ+ Add Appã€** æˆ– **ã€ŒCreate Appã€**
2. å¡«å¯«æ‡‰ç”¨ç¨‹å¼è³‡è¨Šï¼š
   - **App name**ï¼š`ChaosRegistry`ï¼ˆæˆ–æ‚¨æƒ³è¦çš„æ‡‰ç”¨åç¨±ï¼‰
   - **App environment**ï¼šé¸æ“‡ **ã€ŒDevelopmentã€** æˆ– **ã€ŒProductionã€**
3. é»æ“Š **ã€ŒCreateã€** å»ºç«‹æ‡‰ç”¨ç¨‹å¼

---

## ğŸ”§ æ­¥é©Ÿ 3ï¼šå–å¾— OAuth 2.0 æ†‘è­‰

### 3.1 é€²å…¥æ‡‰ç”¨ç¨‹å¼è¨­å®š

1. åœ¨å°ˆæ¡ˆé é¢ä¸­ï¼Œæ‰¾åˆ°æ‚¨å‰›å»ºç«‹çš„æ‡‰ç”¨ç¨‹å¼
2. é»æ“Šæ‡‰ç”¨ç¨‹å¼åç¨±é€²å…¥æ‡‰ç”¨ç¨‹å¼è©³æƒ…é é¢
3. é»æ“Š **ã€ŒKeys and tokensã€** æ¨™ç±¤é 

### 3.2 å–å¾— Client ID å’Œ Client Secret

åœ¨ **ã€ŒKeys and tokensã€** é é¢ä¸­ï¼Œæ‚¨æœƒçœ‹åˆ°ï¼š

#### OAuth 2.0 Client ID and Client Secret

1. **Client ID**ï¼š
   - é€™æ˜¯ä¸€å€‹å…¬é–‹çš„è­˜åˆ¥ç¢¼
   - é»æ“Š **ã€ŒShowã€** æˆ– **ã€ŒRevealã€** æŸ¥çœ‹å®Œæ•´ Client ID
   - è¤‡è£½ä¸¦ä¿å­˜ï¼ˆç¨å¾Œç”¨æ–¼ Supabase è¨­å®šï¼‰

2. **Client Secret**ï¼š
   - é€™æ˜¯ç§å¯†é‡‘é‘°ï¼Œè«‹å¦¥å–„ä¿ç®¡
   - é»æ“Š **ã€ŒGenerateã€** æˆ– **ã€ŒShowã€** ç”Ÿæˆ/æŸ¥çœ‹ Client Secret
   - âš ï¸ **é‡è¦**ï¼šClient Secret åªæœƒé¡¯ç¤ºä¸€æ¬¡ï¼Œè«‹ç«‹å³è¤‡è£½ä¸¦ä¿å­˜
   - å¦‚æœéºå¤±ï¼Œéœ€è¦é‡æ–°ç”Ÿæˆ

### 3.3 è¨˜éŒ„æ†‘è­‰è³‡è¨Š

è«‹å°‡ä»¥ä¸‹è³‡è¨Šè¨˜éŒ„ä¸‹ä¾†ï¼ˆç¨å¾Œæœƒç”¨åˆ°ï¼‰ï¼š

```
Client ID: [æ‚¨çš„ Client ID]
Client Secret: [æ‚¨çš„ Client Secret]
```

---

## ğŸ”§ æ­¥é©Ÿ 4ï¼šè¨­å®š OAuth 2.0 å›èª¿ URL

### 4.1 é€²å…¥ User authentication settings

1. åœ¨æ‡‰ç”¨ç¨‹å¼è©³æƒ…é é¢ï¼Œé»æ“Š **ã€ŒUser authentication settingsã€** æ¨™ç±¤é 
2. å¦‚æœå°šæœªè¨­å®šï¼Œé»æ“Š **ã€ŒSet upã€** æˆ– **ã€ŒEditã€**

### 4.2 è¨­å®š OAuth 2.0

åœ¨ **ã€ŒUser authentication settingsã€** é é¢ä¸­ï¼Œè«‹æŒ‰ç…§ä»¥ä¸‹èªªæ˜å¡«å¯«ï¼š

#### 1. App permissionsï¼ˆæ‡‰ç”¨ç¨‹å¼æ¬Šé™ï¼‰- å¿…å¡«

é€™äº›æ¬Šé™å•Ÿç”¨ OAuth 1.0a èªè­‰ã€‚

**é¸é …èªªæ˜**ï¼š
- **Read**ï¼šè®€å–æ¨æ–‡å’Œå€‹äººè³‡æ–™è³‡è¨Š
- **Read and write**ï¼šè®€å–å’Œç™¼å¸ƒæ¨æ–‡ä»¥åŠå€‹äººè³‡æ–™è³‡è¨Š
- **Read and write and Direct message**ï¼šè®€å–æ¨æ–‡å’Œå€‹äººè³‡æ–™è³‡è¨Šï¼Œè®€å–å’Œç™¼å¸ƒç§è¨Š

**å»ºè­°é¸æ“‡**ï¼š**ã€ŒReadã€**

**åŸå› **ï¼š
- æˆ‘å€‘åªéœ€è¦è®€å–ç”¨æˆ¶è³‡è¨Šé€²è¡Œç¬¬ä¸‰æ–¹ç™»å…¥
- ä¸éœ€è¦ç™¼å¸ƒæ¨æ–‡æˆ–ç™¼é€ç§è¨Š
- æœ€å°æ¬Šé™åŸå‰‡ï¼Œé™ä½å®‰å…¨é¢¨éšª

#### 2. Request email from usersï¼ˆè«‹æ±‚ç”¨æˆ¶é›»å­éƒµä»¶ï¼‰- å¯é¸

å¦‚æœè¦è«‹æ±‚ç”¨æˆ¶çš„é›»å­éƒµä»¶åœ°å€ï¼Œéœ€è¦æä¾›éš±ç§æ¬Šæ”¿ç­–å’Œæœå‹™æ¢æ¬¾çš„ URLã€‚

**å»ºè­°**ï¼š**ä¸å‹¾é¸**ï¼ˆé™¤éæ‚¨ç¢ºå¯¦éœ€è¦ç”¨æˆ¶çš„é›»å­éƒµä»¶ï¼‰

**å¦‚æœå‹¾é¸**ï¼Œéœ€è¦å¡«å¯«ï¼š
- **Privacy policy URL**ï¼š`https://chaos-registry.vercel.app/privacy`
- **Terms of service URL**ï¼š`https://chaos-registry.vercel.app/terms`

#### 3. Type of Appï¼ˆæ‡‰ç”¨ç¨‹å¼é¡å‹ï¼‰- å¿…å¡«

æ‡‰ç”¨ç¨‹å¼é¡å‹å•Ÿç”¨ OAuth 2.0 èªè­‰ã€‚

**é¸é …èªªæ˜**ï¼š
- **Native App**ï¼šåŸç”Ÿæ‡‰ç”¨ç¨‹å¼ï¼ˆPublic clientï¼‰
  - é©ç”¨æ–¼ï¼šç›´æ¥åœ¨æ‰‹æ©Ÿ App ä¸­è™•ç† OAuth æµç¨‹
  - ç‰¹é»ï¼šç„¡æ³•å®‰å…¨åœ°å„²å­˜ Client Secretï¼ˆå› ç‚º App å¯ä»¥è¢«åç·¨è­¯ï¼‰
  - OAuth æµç¨‹ï¼šApp â†’ X APIï¼ˆç›´æ¥ï¼‰
  
- **Web App, Automated App or Bot**ï¼šç¶²é æ‡‰ç”¨ç¨‹å¼ã€è‡ªå‹•åŒ–æ‡‰ç”¨ç¨‹å¼æˆ–æ©Ÿå™¨äººï¼ˆConfidential clientï¼‰
  - é©ç”¨æ–¼ï¼šä½¿ç”¨å¾Œç«¯ä¼ºæœå™¨è™•ç† OAuth æµç¨‹
  - ç‰¹é»ï¼šå¯ä»¥å®‰å…¨åœ°å„²å­˜ Client Secretï¼ˆåœ¨ä¼ºæœå™¨ç«¯ï¼‰
  - OAuth æµç¨‹ï¼šApp â†’ Supabaseï¼ˆå¾Œç«¯ï¼‰â†’ X API

**å»ºè­°é¸æ“‡**ï¼š**ã€ŒWeb App, Automated App or Botã€**

**åŸå› **ï¼š
1. **ä½¿ç”¨ Supabase è™•ç† OAuth**ï¼š
   - æ‚¨çš„æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨ Supabase çš„ OAuth Provider åŠŸèƒ½
   - Supabase æ˜¯å¯¦éš›çš„ OAuth clientï¼Œè€Œä¸æ˜¯æ‚¨çš„ App æœ¬èº«
   - Supabase åœ¨ä¼ºæœå™¨ç«¯å®‰å…¨åœ°å„²å­˜ Client Secret

2. **OAuth æµç¨‹**ï¼š
   ```
   ç”¨æˆ¶é»æ“Šç™»å…¥ â†’ App å‘¼å« Supabase â†’ Supabase è™•ç† OAuth â†’ X API
   ```
   - åœ¨é€™å€‹æµç¨‹ä¸­ï¼ŒSupabase æ˜¯ Confidential client
   - æ‚¨çš„ App åªæ˜¯ç™¼èµ·è«‹æ±‚ï¼Œä¸ç›´æ¥èˆ‡ X API äº’å‹•

3. **å®‰å…¨æ€§**ï¼š
   - Client Secret å„²å­˜åœ¨ Supabase ä¼ºæœå™¨ç«¯ï¼ˆå®‰å…¨ï¼‰
   - å¦‚æœé¸æ“‡ Native Appï¼ŒClient Secret éœ€è¦å„²å­˜åœ¨ App ä¸­ï¼ˆä¸å®‰å…¨ï¼Œå¯è¢«åç·¨è­¯ï¼‰

**ä»€éº¼æ™‚å€™æ‡‰è©²é¸æ“‡ Native Appï¼Ÿ**

åªæœ‰åœ¨ä»¥ä¸‹æƒ…æ³æ‰é¸æ“‡ Native Appï¼š
- æ‚¨çš„ App ç›´æ¥èˆ‡ X API äº’å‹•ï¼ˆä¸ä½¿ç”¨ Supabase æˆ–å…¶ä»–å¾Œç«¯ï¼‰
- æ‚¨ä½¿ç”¨ OAuth 2.0 PKCEï¼ˆProof Key for Code Exchangeï¼‰æµç¨‹
- æ‚¨ä¸éœ€è¦ Client Secretï¼ˆPublic client ä¸éœ€è¦ï¼‰

**ç¸½çµ**ï¼š
- âœ… **ä½¿ç”¨ Supabase** â†’ é¸æ“‡ **ã€ŒWeb App, Automated App or Botã€**
- âŒ **ä¸ä½¿ç”¨ Supabaseï¼Œç›´æ¥èˆ‡ X API äº’å‹•** â†’ é¸æ“‡ **ã€ŒNative Appã€**

#### 4. App infoï¼ˆæ‡‰ç”¨ç¨‹å¼è³‡è¨Šï¼‰

##### Callback URI / Redirect URLï¼ˆå›èª¿ URI / é‡å®šå‘ URLï¼‰- å¿…å¡«

```
https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback
```

âš ï¸ **é‡è¦**ï¼š
- å¿…é ˆå®Œå…¨åŒ¹é… Supabase çš„å›èª¿ URL
- åŒ…æ‹¬ `https://` å”è­°
- çµå°¾çš„ `/callback` è·¯å¾‘
- ä¸èƒ½æœ‰å¤šé¤˜çš„ç©ºæ ¼æˆ–ç‰¹æ®Šå­—å…ƒ

##### Website URLï¼ˆç¶²ç«™ URLï¼‰- å¿…å¡«

```
https://chaos-registry.vercel.app
```

é€™æ˜¯æ‚¨æ‡‰ç”¨ç¨‹å¼çš„ä¸»è¦ç¶²ç«™ URLã€‚

##### Organization nameï¼ˆçµ„ç¹”åç¨±ï¼‰- å¯é¸

```
ChaosRegistry
```

æˆ–ç•™ç©ºã€‚å¦‚æœå¡«å¯«ï¼Œé€™å€‹åç¨±æœƒåœ¨ç”¨æˆ¶æˆæ¬Šæ™‚é¡¯ç¤ºã€‚

##### Organization URLï¼ˆçµ„ç¹” URLï¼‰- å¯é¸

```
https://chaos-registry.vercel.app
```

æˆ–ç•™ç©ºã€‚å¦‚æœå¡«å¯«ï¼Œé€™å€‹é€£çµæœƒåœ¨ç”¨æˆ¶æˆæ¬Šæ™‚é¡¯ç¤ºã€‚

##### Terms of serviceï¼ˆæœå‹™æ¢æ¬¾ï¼‰- å¯é¸

```
https://chaos-registry.vercel.app/terms
```

**å»ºè­°å¡«å¯«**ï¼šå³ä½¿ä¸å‹¾é¸ã€ŒRequest email from usersã€ï¼Œä¹Ÿå»ºè­°å¡«å¯«æœå‹™æ¢æ¬¾ URLï¼Œé€™æ¨£åœ¨ç”¨æˆ¶æˆæ¬Šæ™‚æœƒé¡¯ç¤ºæœå‹™æ¢æ¬¾é€£çµï¼Œå¢åŠ ä¿¡ä»»åº¦ã€‚

##### Privacy policyï¼ˆéš±ç§æ¬Šæ”¿ç­–ï¼‰- å¯é¸

```
https://chaos-registry.vercel.app/privacy
```

**å»ºè­°å¡«å¯«**ï¼šå³ä½¿ä¸å‹¾é¸ã€ŒRequest email from usersã€ï¼Œä¹Ÿå»ºè­°å¡«å¯«éš±ç§æ¬Šæ”¿ç­– URLï¼Œé€™æ¨£åœ¨ç”¨æˆ¶æˆæ¬Šæ™‚æœƒé¡¯ç¤ºéš±ç§æ¬Šæ”¿ç­–é€£çµï¼Œç¬¦åˆæœ€ä½³å¯¦è¸ã€‚

#### 5. OAuth 2.0 Scopesï¼ˆOAuth 2.0 ç¯„åœï¼‰- å¦‚æœé¡¯ç¤º

å¦‚æœé é¢é¡¯ç¤º OAuth 2.0 ç¯„åœé¸é …ï¼Œè«‹é¸æ“‡ï¼š

- âœ… **users.read**ï¼šè®€å–ç”¨æˆ¶è³‡è¨Šï¼ˆ**å¿…é ˆå‹¾é¸**ï¼Œç”¨æ–¼ç¬¬ä¸‰æ–¹ç™»å…¥ï¼‰
- âŒ **tweet.read**ï¼šè®€å–æ¨æ–‡ï¼ˆä¸éœ€è¦ï¼‰
- âŒ **tweet.write**ï¼šç™¼å¸ƒæ¨æ–‡ï¼ˆä¸éœ€è¦ï¼‰
- âŒ **offline.access**ï¼šé›¢ç·šè¨ªå•ï¼ˆå¯é¸ï¼Œé€šå¸¸ä¸éœ€è¦ï¼‰

**å»ºè­°**ï¼šåªå‹¾é¸ **ã€Œusers.readã€**ï¼Œéµå¾ªæœ€å°æ¬Šé™åŸå‰‡ã€‚

### 4.3 å„²å­˜è¨­å®š

1. ç¢ºèªæ‰€æœ‰è¨­å®šæ­£ç¢º
2. é»æ“Š **ã€ŒSaveã€** æˆ– **ã€ŒUpdateã€** å„²å­˜è¨­å®š
3. ç­‰å¾…è¨­å®šç”Ÿæ•ˆï¼ˆé€šå¸¸éœ€è¦å¹¾ç§’é˜ï¼‰

---

## ğŸ”§ æ­¥é©Ÿ 5ï¼šåœ¨ Supabase ä¸­è¨­å®š X Provider

### 5.1 é€²å…¥ Supabase Dashboard

1. ç™»å…¥ [Supabase Dashboard](https://app.supabase.com/)
2. é¸æ“‡å°ˆæ¡ˆï¼š`votechaos` (epyykzxxglkjombvozhr)
3. é€²å…¥å·¦å´é¸å–®çš„ **ã€ŒAuthenticationã€** â†’ **ã€ŒProvidersã€**

### 5.2 å•Ÿç”¨ X (Twitter) Provider

#### æ–¹æ³• 1ï¼šæ¨™æº–ä»‹é¢ï¼ˆ2025 æœ€æ–°ç‰ˆï¼‰

1. **åœ¨ Providers åˆ—è¡¨ä¸­å°‹æ‰¾ X (Twitter)**ï¼š
   - åœ¨ Providers é é¢ä¸­ï¼Œå‘ä¸‹æ»¾å‹•æ‰¾åˆ° **ã€ŒXã€** æˆ– **ã€ŒTwitterã€** æˆ– **ã€ŒX (Twitter)ã€**
   - å¦‚æœçœ‹ä¸åˆ°ï¼Œå˜—è©¦ä½¿ç”¨æœå°‹åŠŸèƒ½æœå°‹ "Twitter" æˆ– "X"

2. **é»æ“Š Provider å¡ç‰‡**ï¼š
   - é»æ“Š **ã€ŒXã€** æˆ– **ã€ŒTwitterã€** çš„å¡ç‰‡ï¼ˆä¸æ˜¯é–‹é—œï¼‰
   - é€™æœƒå±•é–‹è©³ç´°è¨­å®šé é¢

3. **å•Ÿç”¨ Provider**ï¼š
   - åœ¨å±•é–‹çš„é é¢ä¸­ï¼Œæ‰¾åˆ° **ã€ŒEnableã€** é–‹é—œæˆ–æŒ‰éˆ•
   - é»æ“Šé–‹é—œå•Ÿç”¨ï¼ˆæ‡‰è©²æœƒè®Šæˆç¶ è‰²æˆ–é¡¯ç¤º "Enabled"ï¼‰

4. **å¡«å…¥æ†‘è­‰è³‡è¨Š**ï¼š

   **Client ID / API Key**ï¼ˆå¿…å¡«ï¼‰ï¼š
   ```
   R05yT2N5QUFWTEhoeUpScHVZR3A6MTpjaQ
   ```
   - æ¬„ä½åç¨±å¯èƒ½æ˜¯ï¼š**ã€ŒClient IDã€**ã€**ã€ŒAPI Keyã€**ã€**ã€ŒOAuth Client IDã€**
   - å¡«å…¥å¾ X Developer Portal å–å¾—çš„ Client ID

   **Client Secret / API Secret Key**ï¼ˆå¿…å¡«ï¼‰ï¼š
   ```
   rS6Tm4i1gZA0jg11lJUEHRDWg-98wu3Tk_X3iyA3QmC4SYWgQG
   ```
   - æ¬„ä½åç¨±å¯èƒ½æ˜¯ï¼š**ã€ŒClient Secretã€**ã€**ã€ŒAPI Secret Keyã€**ã€**ã€ŒOAuth Client Secretã€**
   - å¡«å…¥å¾ X Developer Portal å–å¾—çš„ Client Secret

5. **å…¶ä»–è¨­å®šï¼ˆå¦‚æœé¡¯ç¤ºï¼‰**ï¼š
   - **ã€ŒAllow users without an emailã€**ï¼šå¦‚æœçœ‹åˆ°æ­¤é¸é …ï¼Œå»ºè­°å‹¾é¸
   - **ã€ŒScopesã€**ï¼šé€šå¸¸ä¸éœ€è¦æ‰‹å‹•è¨­å®šï¼ŒSupabase æœƒè‡ªå‹•è™•ç†

6. **å„²å­˜è¨­å®š**ï¼š
   - é»æ“Šé é¢åº•éƒ¨çš„ **ã€ŒSaveã€** æˆ– **ã€ŒUpdateã€** æŒ‰éˆ•
   - ç­‰å¾…å¹¾ç§’é˜è®“è¨­å®šç”Ÿæ•ˆ

#### æ–¹æ³• 2ï¼šå¦‚æœæ‰¾ä¸åˆ° X Provider

å¦‚æœ Supabase Dashboard ä¸­æ²’æœ‰é¡¯ç¤º X (Twitter) Providerï¼Œå¯èƒ½çš„åŸå› ï¼š

1. **Supabase ç‰ˆæœ¬å•é¡Œ**ï¼š
   - ç¢ºèªæ‚¨çš„ Supabase å°ˆæ¡ˆæ˜¯æœ€æ–°ç‰ˆæœ¬
   - æŸäº›èˆŠç‰ˆæœ¬å¯èƒ½ä¸æ”¯æ´ X Provider

2. **Provider åç¨±è®Šæ›´**ï¼š
   - å˜—è©¦æœå°‹ **ã€ŒXã€**ï¼ˆå–®ç¨çš„ Xï¼‰
   - å˜—è©¦æœå°‹ **ã€ŒTwitterã€**
   - æŸ¥çœ‹æ˜¯å¦æœ‰ **ã€ŒSocial Loginã€** æˆ– **ã€ŒOAuthã€** åˆ†é¡

3. **éœ€è¦æ‰‹å‹•å•Ÿç”¨**ï¼š
   - æŸäº› Supabase ç‰ˆæœ¬éœ€è¦å…ˆå•Ÿç”¨ Social Login åŠŸèƒ½
   - æª¢æŸ¥æ˜¯å¦æœ‰ **ã€ŒEnable Social Loginã€** çš„ç¸½é–‹é—œ

4. **è¯ç¹« Supabase æ”¯æ´**ï¼š
   - å¦‚æœä»ç„¶æ‰¾ä¸åˆ°ï¼Œå¯èƒ½éœ€è¦è¯ç¹« Supabase æ”¯æ´
   - æˆ–æª¢æŸ¥ Supabase å®˜æ–¹æ–‡ä»¶ç¢ºèªæœ€æ–°è¨­å®šæ–¹å¼

#### æ–¹æ³• 3ï¼šä½¿ç”¨ Supabase CLIï¼ˆé€²éšï¼‰

å¦‚æœ Dashboard ä»‹é¢æ²’æœ‰æä¾›é¸é …ï¼Œå¯ä»¥ä½¿ç”¨ Supabase CLIï¼š

```bash
# å®‰è£ Supabase CLIï¼ˆå¦‚æœå°šæœªå®‰è£ï¼‰
npm install -g supabase

# ç™»å…¥ Supabase
supabase login

# é€£çµå°ˆæ¡ˆ
supabase link --project-ref epyykzxxglkjombvozhr

# è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ˆåœ¨ Supabase Dashboard â†’ Settings â†’ API ä¸­å–å¾—ï¼‰
export SUPABASE_ACCESS_TOKEN=your_access_token

# ä½¿ç”¨ Supabase Management API è¨­å®š Provider
# é€™éœ€è¦æŸ¥é–± Supabase Management API æ–‡ä»¶
```

**æ³¨æ„**ï¼šæ­¤æ–¹æ³•è¼ƒç‚ºè¤‡é›œï¼Œå»ºè­°å„ªå…ˆä½¿ç”¨ Dashboard ä»‹é¢ã€‚

---

### 5.2.1 ç¢ºèª Provider å·²å•Ÿç”¨

è¨­å®šå®Œæˆå¾Œï¼Œç¢ºèªï¼š

1. **è¦–è¦ºç¢ºèª**ï¼š
   - Provider å¡ç‰‡é¡¯ç¤ºç‚º **ã€ŒEnabledã€** æˆ– **ã€ŒActiveã€**
   - é–‹é—œé¡¯ç¤ºç‚ºç¶ è‰²æˆ–é–‹å•Ÿç‹€æ…‹
   - æ²’æœ‰ç´…è‰²éŒ¯èª¤è¨Šæ¯

2. **åŠŸèƒ½ç¢ºèª**ï¼š
   - å˜—è©¦åœ¨å‰ç«¯æ‡‰ç”¨ç¨‹å¼ä¸­é»æ“Š Twitter ç™»å…¥æŒ‰éˆ•
   - æ‡‰è©²æœƒè·³è½‰åˆ° X æˆæ¬Šé é¢ï¼ˆè€Œä¸æ˜¯å‡ºç¾éŒ¯èª¤ï¼‰

### 5.3 å®Œæ•´å¡«å¯«ç¯„ä¾‹

**Supabase X Provider è¨­å®šç•«é¢æ‡‰è©²å¦‚ä¸‹**ï¼š

```
Twitter auth icon: [Twitter åœ–ç¤º]
Twitter: [é–‹é—œå·²å•Ÿç”¨ âœ…]
Twitter enabled: [å·²å•Ÿç”¨]

API Key: R05yT2N5QUFWTEhoeUpScHVZR3A6MTpjaQ
API Secret Key: rS6Tm4i1gZA0jg11lJUEHRDWg-98wu3Tk_X3iyA3QmC4SYWgQG

Allow users without an email: [å·²å‹¾é¸ âœ…]
```

### 5.3 ç¢ºèªè¨­å®š

ç¢ºèª Supabase ä¸­çš„è¨­å®šï¼š
- âœ… X Provider å·²å•Ÿç”¨
- âœ… Client ID å·²æ­£ç¢ºå¡«å…¥
- âœ… Client Secret å·²æ­£ç¢ºå¡«å…¥
- âœ… æ²’æœ‰éŒ¯èª¤è¨Šæ¯

---

## ğŸ”§ æ­¥é©Ÿ 6ï¼šæ¸¬è©¦ X ç™»å…¥

### 6.1 Web ç‰ˆæ¸¬è©¦

1. æ‰“é–‹ç€è¦½å™¨ï¼Œè¨ªå•ï¼š`https://chaos-registry.vercel.app/auth`
2. é»æ“Š **ã€Œä½¿ç”¨ Twitter ç™»å…¥ã€** æˆ– **ã€Œä½¿ç”¨ X ç™»å…¥ã€** æŒ‰éˆ•
3. æ‡‰è©²æœƒè·³è½‰åˆ° X æˆæ¬Šé é¢
4. ä½¿ç”¨ X (Twitter) å¸³è™Ÿç™»å…¥ä¸¦æˆæ¬Šæ‡‰ç”¨
5. æˆæ¬Šå¾Œæ‡‰è©²æœƒé‡å®šå‘å›æ‡‰ç”¨ä¸¦å®Œæˆç™»å…¥
6. æª¢æŸ¥æ˜¯å¦æˆåŠŸç™»å…¥

### 6.2 App ç‰ˆæ¸¬è©¦

1. åœ¨ Android Studio æˆ– Xcode ä¸­é‹è¡Œ App
2. åœ¨ç™»å…¥é é¢é»æ“Š **ã€Œä½¿ç”¨ Twitter ç™»å…¥ã€** æˆ– **ã€Œä½¿ç”¨ X ç™»å…¥ã€** æŒ‰éˆ•
3. æ‡‰è©²æœƒæ‰“é–‹ç€è¦½å™¨ï¼Œé¡¯ç¤º X æˆæ¬Šé é¢
4. æˆæ¬Šå¾Œæœƒé€é Deep Link `votechaos://auth/callback` è¿”å› App
5. App æ‡‰è©²æœƒè‡ªå‹•å®Œæˆç™»å…¥
6. æª¢æŸ¥æ˜¯å¦æˆåŠŸç™»å…¥

---

## âš ï¸ å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### å•é¡Œ 1ï¼šClient ID æˆ– Client Secret éŒ¯èª¤

**éŒ¯èª¤è¨Šæ¯**ï¼š
- `Invalid client credentials`
- `Unauthorized`
- `401 Unauthorized`

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. ç¢ºèª Client ID å’Œ Client Secret æ˜¯å¦æ­£ç¢ºè¤‡è£½ï¼ˆæ²’æœ‰å¤šé¤˜ç©ºæ ¼ï¼‰
2. ç¢ºèªåœ¨ X Developer Portal ä¸­å·²æ­£ç¢ºç”Ÿæˆ Client Secret
3. å¦‚æœ Client Secret éºå¤±ï¼Œåœ¨ X Developer Portal ä¸­é‡æ–°ç”Ÿæˆ
4. ç¢ºèª Supabase ä¸­çš„è¨­å®šæ˜¯å¦æ­£ç¢º

### å•é¡Œ 2ï¼šå›èª¿ URL ä¸åŒ¹é…

**éŒ¯èª¤è¨Šæ¯**ï¼š
- `Callback URL mismatch`
- `redirect_uri_mismatch`
- `Invalid redirect URI`

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. ç¢ºèª X Developer Portal ä¸­çš„ **Callback URI** ç‚ºï¼š
   ```
   https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback
   ```
2. ç¢ºèª URL å®Œå…¨åŒ¹é…ï¼ˆåŒ…æ‹¬ `https://` å’Œçµå°¾çš„ `/callback`ï¼‰
3. ç¢ºèªæ²’æœ‰å¤šé¤˜çš„ç©ºæ ¼æˆ–ç‰¹æ®Šå­—å…ƒ
4. å„²å­˜è¨­å®šå¾Œç­‰å¾…å¹¾ç§’é˜è®“è¨­å®šç”Ÿæ•ˆ

### å•é¡Œ 3ï¼šæ¬Šé™ä¸è¶³

**éŒ¯èª¤è¨Šæ¯**ï¼š
- `Insufficient permissions`
- `Forbidden`
- `403 Forbidden`

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. ç¢ºèª X Developer Portal ä¸­çš„ **App permissions** è¨­å®šæ˜¯å¦æ­£ç¢º
2. ç¢ºèª OAuth ç¯„åœä¸­è‡³å°‘å‹¾é¸äº† **ã€Œusers.readã€**
3. ç¢ºèªæ‡‰ç”¨ç¨‹å¼æ˜¯å¦å·²é€šé X å¯©æ ¸ï¼ˆå¦‚æœéœ€è¦ï¼‰
4. æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹æ˜¯å¦ç‚º **ã€ŒActiveã€**

### å•é¡Œ 4ï¼šæ‡‰ç”¨ç¨‹å¼æœªå•Ÿç”¨

**éŒ¯èª¤è¨Šæ¯**ï¼š
- `App not found`
- `Application suspended`

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. ç¢ºèªæ‡‰ç”¨ç¨‹å¼ç‹€æ…‹ç‚º **ã€ŒActiveã€**
2. ç¢ºèªæ‡‰ç”¨ç¨‹å¼ç’°å¢ƒï¼ˆDevelopment/Productionï¼‰æ˜¯å¦æ­£ç¢º
3. æª¢æŸ¥æ˜¯å¦æœ‰ä»»ä½•é•è¦é€šçŸ¥
4. å¦‚æœæ‡‰ç”¨ç¨‹å¼è¢«æš«åœï¼Œè¯ç¹« X æ”¯æ´

### å•é¡Œ 5ï¼šSupabase Provider æœªå•Ÿç”¨

**éŒ¯èª¤è¨Šæ¯**ï¼š
- `Provider not enabled`
- `Twitter provider not found`

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. ç¢ºèª Supabase ä¸­çš„ X (Twitter) Provider å·²å•Ÿç”¨
2. ç¢ºèª Client ID å’Œ Client Secret å·²æ­£ç¢ºå¡«å…¥
3. ç¢ºèª Supabase å°ˆæ¡ˆç‹€æ…‹æ­£å¸¸
4. é‡æ–°å„²å­˜ Provider è¨­å®š

---

## ğŸ“ æª¢æŸ¥æ¸…å–®

### X Developer Portal è¨­å®š

- [ ] X Developer Portal å¸³è™Ÿå·²å»ºç«‹
- [ ] å°ˆæ¡ˆï¼ˆProjectï¼‰å·²å»ºç«‹
- [ ] æ‡‰ç”¨ç¨‹å¼ï¼ˆAppï¼‰å·²å»ºç«‹
- [ ] Client ID å·²å–å¾—ä¸¦è¨˜éŒ„
- [ ] Client Secret å·²å–å¾—ä¸¦è¨˜éŒ„
- [ ] App permissions å·²è¨­å®šï¼ˆè‡³å°‘é¸æ“‡ Readï¼‰
- [ ] Type of App å·²è¨­å®šç‚º "Web App, Automated App or Bot"
- [ ] Website URL å·²è¨­å®šç‚º `https://chaos-registry.vercel.app`
- [ ] Callback URI å·²è¨­å®šç‚º `https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback`
- [ ] OAuth ç¯„åœä¸­è‡³å°‘å‹¾é¸äº† `users.read`
- [ ] æ‰€æœ‰è¨­å®šå·²å„²å­˜

### Supabase è¨­å®š

- [ ] å·²é€²å…¥ Supabase Dashboard
- [ ] å·²é¸æ“‡æ­£ç¢ºçš„å°ˆæ¡ˆ
- [ ] å·²é€²å…¥ Authentication â†’ Providers
- [ ] X (Twitter) Provider å·²å•Ÿç”¨
- [ ] Client ID å·²æ­£ç¢ºå¡«å…¥
- [ ] Client Secret å·²æ­£ç¢ºå¡«å…¥
- [ ] è¨­å®šå·²å„²å­˜
- [ ] æ²’æœ‰éŒ¯èª¤è¨Šæ¯

### æ¸¬è©¦

- [ ] Web ç‰ˆæ¸¬è©¦æˆåŠŸ
- [ ] App ç‰ˆæ¸¬è©¦æˆåŠŸï¼ˆå¦‚æœé©ç”¨ï¼‰
- [ ] ç”¨æˆ¶å¯ä»¥æˆåŠŸç™»å…¥
- [ ] ç”¨æˆ¶è³‡è¨Šæ­£ç¢ºé¡¯ç¤º

---

## ğŸ”— ç›¸é—œé€£çµ

### X Developer Portal

- **X Developer Portal**ï¼šhttps://developer.x.com/
- **X API æ–‡ä»¶**ï¼šhttps://developer.x.com/en/docs
- **OAuth 2.0 æ–‡ä»¶**ï¼šhttps://developer.x.com/en/docs/authentication/oauth-2-0

### Supabase

- **Supabase Authentication æ–‡ä»¶**ï¼šhttps://supabase.com/docs/guides/auth
- **Supabase Social Login**ï¼šhttps://supabase.com/docs/guides/auth/social-login
- **Supabase Twitter Provider**ï¼šhttps://supabase.com/docs/guides/auth/social-login/auth-twitter

---

## ğŸ“ éœ€è¦å¹«åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°å•é¡Œï¼š

1. **æª¢æŸ¥ä¸Šè¿°æª¢æŸ¥æ¸…å–®**ï¼šç¢ºèªæ‰€æœ‰é …ç›®éƒ½å·²å®Œæˆ
2. **æŸ¥çœ‹ Supabase Authentication æ—¥èªŒ**ï¼š
   - é€²å…¥ Supabase Dashboard â†’ Authentication â†’ Logs
   - æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯å’Œè©³ç´°è³‡è¨Š
3. **æŸ¥çœ‹ X Developer Portal ä¸­çš„æ‡‰ç”¨ç¨‹å¼è¨­å®š**ï¼š
   - ç¢ºèªæ‰€æœ‰è¨­å®šéƒ½æ­£ç¢º
   - æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹
4. **ç¢ºèªæ‰€æœ‰ URL å’Œæ†‘è­‰**ï¼š
   - ç¢ºèªå›èª¿ URL å®Œå…¨åŒ¹é…
   - ç¢ºèª Client ID å’Œ Client Secret æ­£ç¢º
5. **æŸ¥çœ‹ X API ç‹€æ…‹**ï¼š
   - æª¢æŸ¥ X API æ˜¯å¦æœ‰æœå‹™ä¸­æ–·
   - æŸ¥çœ‹ X Developer Portal çš„å…¬å‘Š

---

## ğŸ¯ é‡è¦æé†’

### å®‰å…¨æ€§

- âš ï¸ **Client Secret æ˜¯ç§å¯†è³‡è¨Š**ï¼Œè«‹å¦¥å–„ä¿ç®¡ï¼Œä¸è¦æ´©éœ²çµ¦ä»–äºº
- âš ï¸ **ä¸è¦å°‡ Client Secret æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»çµ±**ï¼ˆå¦‚ Gitï¼‰
- âš ï¸ **å®šæœŸæª¢æŸ¥æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹**ï¼Œç¢ºä¿æ²’æœ‰ç•°å¸¸æ´»å‹•

### æœ€ä½³å¯¦è¸

- âœ… **ä½¿ç”¨ç’°å¢ƒè®Šæ•¸**å„²å­˜ Client ID å’Œ Client Secret
- âœ… **å®šæœŸæ›´æ–°æ†‘è­‰**ï¼ˆå¦‚æœå¯èƒ½ï¼‰
- âœ… **ç›£æ§ç™»å…¥æ´»å‹•**ï¼Œç™¼ç¾ç•°å¸¸åŠæ™‚è™•ç†
- âœ… **éµå®ˆ X é–‹ç™¼è€…å”è­°**ï¼Œé¿å…é•è¦è¡Œç‚º

---

## âœ… å®Œæˆ

å®Œæˆæ‰€æœ‰æ­¥é©Ÿå¾Œï¼ŒX (Twitter) ç¬¬ä¸‰æ–¹ç™»å…¥åŠŸèƒ½å°±å¯ä»¥ä½¿ç”¨äº†ï¼

**ä¸‹ä¸€æ­¥**ï¼š
- æ¸¬è©¦ç™»å…¥åŠŸèƒ½
- æª¢æŸ¥ç”¨æˆ¶è³‡è¨Šæ˜¯å¦æ­£ç¢ºé¡¯ç¤º
- æ ¹æ“šéœ€è¦èª¿æ•´æ¬Šé™è¨­å®š

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-01-29  
**ç‰ˆæœ¬**ï¼š2025 æœ€æ–°ç‰ˆ

