# X (Twitter) ç™»å…¥éŒ¯èª¤é™¤éŒ¯æŒ‡å—

> **å»ºç«‹æ—¥æœŸ**ï¼š2025-01-29  
> **éŒ¯èª¤è¨Šæ¯**ï¼š`{"error":"è«‹æ±‚çš„è·¯å¾‘ç„¡æ•ˆ"}`

---

## ğŸ” éŒ¯èª¤åˆ†æ

### éŒ¯èª¤è¨Šæ¯
```
{"error":"è«‹æ±‚çš„è·¯å¾‘ç„¡æ•ˆ"}
```

é€™å€‹éŒ¯èª¤é€šå¸¸è¡¨ç¤º Supabase ç„¡æ³•è­˜åˆ¥æˆ–è™•ç† X (Twitter) ç™»å…¥è«‹æ±‚ã€‚

---

## ğŸ› å¯èƒ½åŸå› èˆ‡è§£æ±ºæ–¹æ¡ˆ

### åŸå›  1ï¼šSupabase Provider æœªå•Ÿç”¨æˆ–æ‰¾ä¸åˆ°

**ç—‡ç‹€**ï¼šé»æ“Š Twitter ç™»å…¥æŒ‰éˆ•å¾Œå‡ºç¾ "è«‹æ±‚çš„è·¯å¾‘ç„¡æ•ˆ" éŒ¯èª¤ï¼Œæˆ–åœ¨ Dashboard ä¸­æ‰¾ä¸åˆ° X Provider

**è§£æ±ºæ–¹æ¡ˆ**ï¼š

#### æ­¥é©Ÿ 1ï¼šå°‹æ‰¾ X Provider

1. **ç™»å…¥ Supabase Dashboard**ï¼š
   - å‰å¾€ [Supabase Dashboard](https://app.supabase.com/)
   - é¸æ“‡å°ˆæ¡ˆï¼š`votechaos` (epyykzxxglkjombvozhr)
   - é€²å…¥ **Authentication** â†’ **Providers**

2. **æœå°‹ X Provider**ï¼š
   - åœ¨ Providers åˆ—è¡¨ä¸­å‘ä¸‹æ»¾å‹•
   - ä½¿ç”¨é é¢æœå°‹åŠŸèƒ½æœå°‹ **ã€ŒXã€** æˆ– **ã€ŒTwitterã€**
   - æŸ¥çœ‹æ˜¯å¦æœ‰ **ã€ŒX (Twitter)ã€**ã€**ã€ŒTwitterã€** æˆ– **ã€ŒXã€** çš„é¸é …

3. **å¦‚æœæ‰¾ä¸åˆ° Provider**ï¼š
   - æª¢æŸ¥ Supabase å°ˆæ¡ˆç‰ˆæœ¬æ˜¯å¦ç‚ºæœ€æ–°
   - æŸäº›èˆŠç‰ˆæœ¬å¯èƒ½ä¸æ”¯æ´ X Provider
   - å˜—è©¦é‡æ–°æ•´ç†é é¢æˆ–æ¸…é™¤ç€è¦½å™¨å¿«å–

#### æ­¥é©Ÿ 2ï¼šå•Ÿç”¨å’Œè¨­å®š Provider

1. **é»æ“Š Provider å¡ç‰‡**ï¼š
   - æ‰¾åˆ° X æˆ– Twitter çš„å¡ç‰‡
   - **é»æ“Šå¡ç‰‡æœ¬èº«**ï¼ˆä¸æ˜¯é–‹é—œï¼‰ï¼Œé€™æœƒå±•é–‹è©³ç´°è¨­å®š

2. **å•Ÿç”¨ Provider**ï¼š
   - åœ¨å±•é–‹çš„é é¢ä¸­æ‰¾åˆ° **ã€ŒEnableã€** é–‹é—œ
   - é»æ“Šé–‹é—œå•Ÿç”¨ï¼ˆæ‡‰è©²æœƒè®Šæˆç¶ è‰²ï¼‰

3. **å¡«å…¥æ†‘è­‰**ï¼š
   - **Client ID / API Key**ï¼š`R05yT2N5QUFWTEhoeUpScHVZR3A6MTpjaQ`
   - **Client Secret / API Secret Key**ï¼š`rS6Tm4i1gZA0jg11lJUEHRDWg-98wu3Tk_X3iyA3QmC4SYWgQG`
   - æ³¨æ„ï¼šæ¬„ä½åç¨±å¯èƒ½å› ç‰ˆæœ¬è€Œç•°ï¼ˆClient ID / API Key / OAuth Client IDï¼‰

4. **å„²å­˜è¨­å®š**ï¼š
   - é»æ“Š **ã€ŒSaveã€** æˆ– **ã€ŒUpdateã€** æŒ‰éˆ•
   - ç­‰å¾…å¹¾ç§’é˜è®“è¨­å®šç”Ÿæ•ˆ

#### æ­¥é©Ÿ 3ï¼šå¦‚æœä»ç„¶æ‰¾ä¸åˆ°

å¦‚æœ Dashboard ä¸­å®Œå…¨æ²’æœ‰ X Provider é¸é …ï¼š

1. **æª¢æŸ¥ Supabase ç‰ˆæœ¬**ï¼š
   - ç¢ºèªå°ˆæ¡ˆæ˜¯å¦ç‚ºæœ€æ–°ç‰ˆæœ¬
   - æŸäº›åŠŸèƒ½å¯èƒ½éœ€è¦å‡ç´š

2. **è¯ç¹« Supabase æ”¯æ´**ï¼š
   - åœ¨ Supabase Dashboard ä¸­æäº¤æ”¯æ´è«‹æ±‚
   - èªªæ˜éœ€è¦å•Ÿç”¨ X (Twitter) Provider ä½†æ‰¾ä¸åˆ°é¸é …

3. **ä½¿ç”¨ Supabase CLI**ï¼ˆé€²éšï¼‰ï¼š
   - åƒè€ƒ [X ç™»å…¥è¨­å®šæŒ‡å—](./Xç™»å…¥è¨­å®šæŒ‡å—-2025æœ€æ–°ç‰ˆ.md) ä¸­çš„ CLI æ–¹æ³•

---

### åŸå›  2ï¼šProvider åç¨±ä¸åŒ¹é…

**ç—‡ç‹€**ï¼šSupabase å¯èƒ½ä½¿ç”¨ä¸åŒçš„ provider åç¨±

**æª¢æŸ¥**ï¼š

1. **ç¢ºèª Supabase ä¸­çš„ Provider åç¨±**ï¼š
   - åœ¨ Supabase Dashboard â†’ Authentication â†’ Providers ä¸­
   - æŸ¥çœ‹é¡¯ç¤ºçš„åç¨±æ˜¯ **"X (Twitter)"** é‚„æ˜¯ **"Twitter"**

2. **ç¢ºèªå‰ç«¯ä»£ç¢¼ä¸­çš„ provider åç¨±**ï¼š
   - æ‰“é–‹ `src/pages/AuthPage.tsx`
   - ç¢ºèª `handleSocialLogin('twitter')` ä½¿ç”¨çš„æ˜¯ `'twitter'`

3. **å¯èƒ½çš„è§£æ±ºæ–¹æ¡ˆ**ï¼š
   - å¦‚æœ Supabase é¡¯ç¤ºçš„æ˜¯ **"X"** è€Œä¸æ˜¯ **"Twitter"**ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ `'x'` ä½œç‚º provider åç¨±
   - ä½†é€šå¸¸ Supabase ä»ç„¶æ”¯æ´ `'twitter'` ä½œç‚ºå‘å¾Œå…¼å®¹

---

### åŸå›  3ï¼šAPI æ†‘è­‰éŒ¯èª¤

**ç—‡ç‹€**ï¼šæ†‘è­‰æœªæ­£ç¢ºè¨­å®šæˆ–å·²éæœŸ

**è§£æ±ºæ–¹æ¡ˆ**ï¼š

1. **æª¢æŸ¥ Supabase ä¸­çš„æ†‘è­‰**ï¼š
   - ç¢ºèª API Keyï¼š`R05yT2N5QUFWTEhoeUpScHVZR3A6MTpjaQ`
   - ç¢ºèª API Secret Keyï¼š`rS6Tm4i1gZA0jg11lJUEHRDWg-98wu3Tk_X3iyA3QmC4SYWgQG`
   - ç¢ºèªæ†‘è­‰èˆ‡ X Developer Portal ä¸­çš„å®Œå…¨ä¸€è‡´

2. **é‡æ–°è¨­å®šæ†‘è­‰**ï¼š
   - å¦‚æœæ†‘è­‰ä¸åŒ¹é…ï¼Œè«‹åœ¨ Supabase ä¸­æ›´æ–°
   - ç¢ºèªæ²’æœ‰å¤šé¤˜çš„ç©ºæ ¼æˆ–ç‰¹æ®Šå­—å…ƒ

---

### åŸå›  4ï¼šX Developer Portal è¨­å®šä¸å®Œæ•´

**ç—‡ç‹€**ï¼šX ç«¯è¨­å®šæœ‰å•é¡Œ

**æª¢æŸ¥**ï¼š

1. **ç¢ºèª Callback URI**ï¼š
   - åœ¨ X Developer Portal ä¸­
   - ç¢ºèª Callback URI ç‚ºï¼š`https://epyykzxxglkjombvozhr.supabase.co/auth/v1/callback`
   - ç¢ºèª URL å®Œå…¨åŒ¹é…

2. **ç¢ºèªæ‡‰ç”¨ç¨‹å¼ç‹€æ…‹**ï¼š
   - ç¢ºèªæ‡‰ç”¨ç¨‹å¼ç‹€æ…‹ç‚º **Active**
   - ç¢ºèªæ²’æœ‰é•è¦æˆ–æš«åœé€šçŸ¥

---

### åŸå›  5ï¼šSupabase å°ˆæ¡ˆé…ç½®å•é¡Œ

**ç—‡ç‹€**ï¼šSupabase å°ˆæ¡ˆè¨­å®šæœ‰å•é¡Œ

**æª¢æŸ¥**ï¼š

1. **ç¢ºèªå°ˆæ¡ˆ URL**ï¼š
   - åœ¨ Supabase Dashboard â†’ Settings â†’ API
   - ç¢ºèª Project URL ç‚ºï¼š`https://epyykzxxglkjombvozhr.supabase.co`

2. **ç¢ºèª API è¨­å®š**ï¼š
   - ç¢ºèª API æœå‹™æ­£å¸¸é‹è¡Œ
   - æª¢æŸ¥æ˜¯å¦æœ‰æœå‹™ä¸­æ–·é€šçŸ¥

---

## ğŸ”§ é™¤éŒ¯æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šæª¢æŸ¥ Supabase Provider ç‹€æ…‹

1. ç™»å…¥ Supabase Dashboard
2. é€²å…¥ Authentication â†’ Providers
3. æ‰¾åˆ° X (Twitter)
4. ç¢ºèªï¼š
   - âœ… é–‹é—œå·²å•Ÿç”¨
   - âœ… API Key å·²å¡«å…¥
   - âœ… API Secret Key å·²å¡«å…¥
   - âœ… æ²’æœ‰éŒ¯èª¤è¨Šæ¯

### æ­¥é©Ÿ 2ï¼šæª¢æŸ¥å‰ç«¯ä»£ç¢¼

1. æ‰“é–‹ `src/pages/AuthPage.tsx`
2. ç¢ºèª `handleSocialLogin` å‡½æ•¸ï¼š
   ```typescript
   const handleSocialLogin = async (provider: 'google' | 'apple' | 'discord' | 'line' | 'twitter') => {
     // ...
     const { error } = await supabase.auth.signInWithOAuth({
       provider, // ç¢ºèªé€™è£¡æ˜¯ 'twitter'
       options: {
         redirectTo: redirectUrl,
       },
     });
   }
   ```

### æ­¥é©Ÿ 3ï¼šæª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°

1. åœ¨ Android Studio çš„ Logcat ä¸­æŸ¥çœ‹è©³ç´°éŒ¯èª¤
2. æˆ–åœ¨ Chrome DevTools ä¸­æŸ¥çœ‹ Network è«‹æ±‚
3. æŸ¥çœ‹æ˜¯å¦æœ‰æ›´è©³ç´°çš„éŒ¯èª¤è¨Šæ¯

### æ­¥é©Ÿ 4ï¼šæ¸¬è©¦å…¶ä»– Provider

1. æ¸¬è©¦ Google ç™»å…¥æ˜¯å¦æ­£å¸¸
2. å¦‚æœ Google æ­£å¸¸ï¼Œå•é¡Œå¯èƒ½ç‰¹å®šæ–¼ X Provider
3. å¦‚æœæ‰€æœ‰ Provider éƒ½æœ‰å•é¡Œï¼Œå¯èƒ½æ˜¯ Supabase é…ç½®å•é¡Œ

---

## ğŸ”„ é‡æ–°è¨­å®šæ­¥é©Ÿ

å¦‚æœä»¥ä¸Šæª¢æŸ¥éƒ½æ­£å¸¸ï¼Œå˜—è©¦é‡æ–°è¨­å®šï¼š

### 1. åœ¨ Supabase ä¸­é‡æ–°è¨­å®š X Provider

1. é€²å…¥ Supabase Dashboard â†’ Authentication â†’ Providers
2. æ‰¾åˆ° X (Twitter)
3. é—œé–‰é–‹é—œï¼ˆåœç”¨ï¼‰
4. ç­‰å¾…å¹¾ç§’é˜
5. é‡æ–°å•Ÿç”¨é–‹é—œ
6. é‡æ–°å¡«å…¥ API Key å’Œ API Secret Key
7. ç¢ºèª "Allow users without an email" å·²å‹¾é¸
8. é»æ“Š **Save**

### 2. é‡æ–°å»ºç½®å’ŒåŒæ­¥

1. åŸ·è¡Œ `npm run build`
2. åŸ·è¡Œ `npx cap sync android`
3. åœ¨ Android Studio ä¸­é‡æ–°é‹è¡Œ App

---

## ğŸ“ æª¢æŸ¥æ¸…å–®

- [ ] Supabase Dashboard ä¸­ X Provider å·²å•Ÿç”¨
- [ ] API Key å·²æ­£ç¢ºå¡«å…¥ï¼š`R05yT2N5QUFWTEhoeUpScHVZR3A6MTpjaQ`
- [ ] API Secret Key å·²æ­£ç¢ºå¡«å…¥ï¼š`rS6Tm4i1gZA0jg11lJUEHRDWg-98wu3Tk_X3iyA3QmC4SYWgQG`
- [ ] X Developer Portal ä¸­ Callback URI å·²è¨­å®š
- [ ] X Developer Portal ä¸­æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹ç‚º Active
- [ ] å‰ç«¯ä»£ç¢¼ä¸­ä½¿ç”¨ `'twitter'` ä½œç‚º provider åç¨±
- [ ] å·²é‡æ–°å»ºç½®å’ŒåŒæ­¥åˆ° Android

---

## ğŸ”— ç›¸é—œæ–‡ä»¶

- [X ç™»å…¥è¨­å®šæŒ‡å— - 2025 æœ€æ–°ç‰ˆ](./Xç™»å…¥è¨­å®šæŒ‡å—-2025æœ€æ–°ç‰ˆ.md)
- [X ç™»å…¥è¨­å®šæª¢æŸ¥æ¸…å–®](./Xç™»å…¥è¨­å®šæª¢æŸ¥æ¸…å–®.md)
- [X API æ†‘è­‰ä¿ç®¡èªªæ˜](./X-APIæ†‘è­‰ä¿ç®¡èªªæ˜.md)

---

## ğŸ“ éœ€è¦æ›´å¤šå¹«åŠ©ï¼Ÿ

å¦‚æœå•é¡Œä»ç„¶å­˜åœ¨ï¼š

1. æª¢æŸ¥ Supabase Dashboard ä¸­çš„ Authentication Logs
2. æŸ¥çœ‹ X Developer Portal ä¸­çš„æ‡‰ç”¨ç¨‹å¼æ—¥èªŒ
3. ç¢ºèª Supabase å’Œ X API æœå‹™ç‹€æ…‹
4. æª¢æŸ¥æ˜¯å¦æœ‰æœå‹™ä¸­æ–·æˆ–ç¶­è­·é€šçŸ¥

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-01-29

