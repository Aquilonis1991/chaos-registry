# 🎯 自訂票數功能說明

## ✨ 新功能

在投票介面新增了「自訂票數」功能，讓用戶可以自由輸入想要投票的數量。

---

## 📋 功能說明

### 原有快捷按鈕
- ✅ **+1** - 投 1 票
- ✅ **+10** - 投 10 票
- ✅ **+100** - 投 100 票

### 🆕 新增：自訂票數輸入
- 📝 **輸入框** - 自由輸入票數（1-1000）
- 🎯 **投票按鈕** - 確認投入自訂票數
- 💰 **代幣顯示** - 即時顯示當前持有代幣

---

## 🎨 介面設計

### 位置
- 在快捷按鈕（+1, +10, +100）下方
- 與其他投票選項保持一致的視覺風格

### 組成元素
1. **標題**：「自訂票數」
2. **輸入框**：
   - 佔位符：「輸入票數（1-1000）」
   - 類型：數字輸入
   - 限制：最小 1，最大 1000
3. **投票按鈕**：
   - 圖示：代幣圖標
   - 文字：「投票」
4. **提示文字**：「當前持有：X,XXX 代幣」

---

## ⚙️ 功能規則

### 輸入限制
- ✅ 最小值：1 票
- ✅ 最大值：1000 票
- ✅ 僅接受正整數

### 驗證規則
1. **空值檢查**：
   - 如果未輸入，按鈕自動禁用

2. **最小值檢查**：
   - 如果輸入 < 1，顯示錯誤：「請輸入有效的票數（至少 1）」

3. **最大值檢查**：
   - 如果輸入 > 1000，顯示錯誤：「單次投票最多 1000 票」

4. **代幣檢查**：
   - 如果代幣不足，在 handleVote 中檢查並顯示：「代幣不足！」

### 行為
- ✅ 投票成功後自動清空輸入框
- ✅ 投票過程中禁用所有投票按鈕
- ✅ 必須先選擇選項才能輸入票數

---

## 🧪 測試案例

### 測試 1：正常投票
**步驟**：
1. 選擇一個選項
2. 輸入 `50`
3. 點擊「投票」

**預期**：
- ✅ 投票成功
- ✅ 票數增加 50
- ✅ 輸入框清空
- ✅ 代幣減少 50

---

### 測試 2：輸入 0 或負數
**步驟**：
1. 選擇一個選項
2. 輸入 `0` 或 `-5`
3. 點擊「投票」

**預期**：
- ❌ 顯示錯誤：「請輸入有效的票數（至少 1）」
- ❌ 不執行投票

---

### 測試 3：超過最大值
**步驟**：
1. 選擇一個選項
2. 輸入 `1500`
3. 點擊「投票」

**預期**：
- ❌ 顯示錯誤：「單次投票最多 1000 票」
- ❌ 不執行投票

---

### 測試 4：代幣不足
**步驟**：
1. 選擇一個選項
2. 輸入 `999999`（超過持有代幣）
3. 點擊「投票」

**預期**：
- ❌ 顯示錯誤：「代幣不足！」
- ❌ 不執行投票

---

### 測試 5：空值或非數字
**步驟**：
1. 選擇一個選項
2. 不輸入任何內容或輸入非數字

**預期**：
- ✅ 「投票」按鈕自動禁用
- ✅ 無法點擊

---

### 測試 6：未選擇選項
**步驟**：
1. 不選擇選項
2. 嘗試輸入票數

**預期**：
- ✅ 輸入框自動禁用
- ✅ 無法輸入

---

## 💡 使用場景

### 場景 1：精確投票
用戶想要投入剛好 **73 票**，而不是 70 或 80。

### 場景 2：大額投票
用戶想要投入 **500 票**，可以直接輸入而不需要點擊多次按鈕。

### 場景 3：剩餘代幣投入
用戶剩餘 **347 代幣**，想要全部投入，可以直接輸入精確數字。

---

## 🎨 UI/UX 優點

1. **靈活性** 💪
   - 用戶可以自由控制投票數量
   - 不受預設按鈕限制

2. **效率** ⚡
   - 大額投票不需要多次點擊
   - 一次輸入即可完成

3. **精確性** 🎯
   - 可以輸入任意票數（1-1000）
   - 不浪費多餘代幣

4. **友善提示** 💬
   - 即時顯示當前代幣
   - 清楚的錯誤訊息
   - 視覺化的禁用狀態

---

## 📱 響應式設計

- **桌面**: 輸入框與按鈕並排，寬度合適
- **手機**: 自動調整為單列布局
- **平板**: 保持良好的間距與可讀性

---

## ✅ 成功標誌

測試完成後，應該看到：
- ✅ 自訂輸入框顯示正常
- ✅ 可以輸入任意數字
- ✅ 驗證規則正常運作
- ✅ 投票成功且票數正確
- ✅ 代幣正確扣除
- ✅ 輸入框自動清空

---

**現在就可以測試了！** 🚀

打開任何主題的詳情頁面，就能看到新的自訂票數功能！


